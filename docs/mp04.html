<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Your Name">

<title>Mini-Project #04: Just the Fact(-Check)s, Ma’am! – STA 9750 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-8bc3bc87e0b1491d8be3109e58e82b4b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="site_libs/plotly-binding-4.11.0/plotly.js"></script>

<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>

<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>

<link href="site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">

<script src="site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>

<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>



</head>

<body class="floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 Submission Material</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Homepage</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./mp01.html"> 
<span class="menu-text">Mini Project 01</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./mp02.html"> 
<span class="menu-text">Mini Project 02</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./mp03.html"> 
<span class="menu-text">Mini Project 03</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./mp04.html" aria-current="page"> 
<span class="menu-text">Mini Project 04</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-aquistion" id="toc-data-aquistion" class="nav-link active" data-scroll-target="#data-aquistion">Data Aquistion</a>
  <ul class="collapse">
  <li><a href="#downloading-final-ces-estimates" id="toc-downloading-final-ces-estimates" class="nav-link" data-scroll-target="#downloading-final-ces-estimates">Downloading Final CES Estimates</a></li>
  <li><a href="#downloading-ces-revisions" id="toc-downloading-ces-revisions" class="nav-link" data-scroll-target="#downloading-ces-revisions">Downloading CES Revisions</a></li>
  <li><a href="#task-3-join-tables" id="toc-task-3-join-tables" class="nav-link" data-scroll-target="#task-3-join-tables">Task 3 Join Tables</a></li>
  <li><a href="#largest-revisions" id="toc-largest-revisions" class="nav-link" data-scroll-target="#largest-revisions">Largest Revisions</a></li>
  <li><a href="#year-with-the-largest-jump-in-typical-revision-size-median-revision-vs-previous-year" id="toc-year-with-the-largest-jump-in-typical-revision-size-median-revision-vs-previous-year" class="nav-link" data-scroll-target="#year-with-the-largest-jump-in-typical-revision-size-median-revision-vs-previous-year">Year with the largest jump in typical revision size (median |revision| vs previous year)</a></li>
  <li><a href="#largest-election-year-spike" id="toc-largest-election-year-spike" class="nav-link" data-scroll-target="#largest-election-year-spike">Largest election year spike</a></li>
  <li><a href="#fraction-of-revisions-100k" id="toc-fraction-of-revisions-100k" class="nav-link" data-scroll-target="#fraction-of-revisions-100k">Fraction of Revisions &gt; 100k</a></li>
  <li><a href="#how-rare-are-100k-revisions" id="toc-how-rare-are-100k-revisions" class="nav-link" data-scroll-target="#how-rare-are-100k-revisions">How rare are &gt; 100k revisions?</a></li>
  <li><a href="#fraction-of-downward-revisions-over-time-trend-slope" id="toc-fraction-of-downward-revisions-over-time-trend-slope" class="nav-link" data-scroll-target="#fraction-of-downward-revisions-over-time-trend-slope">Fraction of “Downward” Revisions Over Time (Trend Slope)</a></li>
  <li><a href="#trend-slope-over-time-logistic-regression" id="toc-trend-slope-over-time-logistic-regression" class="nav-link" data-scroll-target="#trend-slope-over-time-logistic-regression">Trend slope over time (logistic regression)</a></li>
  <li><a href="#longest-run-of-downward-revisions" id="toc-longest-run-of-downward-revisions" class="nav-link" data-scroll-target="#longest-run-of-downward-revisions">Longest Run of Downward Revisions</a></li>
  <li><a href="#top-5-downward-runs" id="toc-top-5-downward-runs" class="nav-link" data-scroll-target="#top-5-downward-runs">Top 5 downward runs</a></li>
  <li><a href="#job-growth-and-revision" id="toc-job-growth-and-revision" class="nav-link" data-scroll-target="#job-growth-and-revision">Job growth and Revision</a></li>
  <li><a href="#plots" id="toc-plots" class="nav-link" data-scroll-target="#plots">Plots</a></li>
  <li><a href="#revision-as-a-of-total-payroll-base" id="toc-revision-as-a-of-total-payroll-base" class="nav-link" data-scroll-target="#revision-as-a-of-total-payroll-base">Revision as a % of Total Payroll Base</a></li>
  </ul></li>
  <li><a href="#statistical-analysis" id="toc-statistical-analysis" class="nav-link" data-scroll-target="#statistical-analysis">Statistical Analysis</a>
  <ul class="collapse">
  <li><a href="#t-test-are-revisions-larger-after-big-payroll-gains" id="toc-t-test-are-revisions-larger-after-big-payroll-gains" class="nav-link" data-scroll-target="#t-test-are-revisions-larger-after-big-payroll-gains">T-test: Are revisions larger after big payroll gains?</a></li>
  <li><a href="#bootstrap-analysis" id="toc-bootstrap-analysis" class="nav-link" data-scroll-target="#bootstrap-analysis">Bootstrap Analysis</a></li>
  <li><a href="#are-revisions-systematically-more-negative-when-job-growth-is-large" id="toc-are-revisions-systematically-more-negative-when-job-growth-is-large" class="nav-link" data-scroll-target="#are-revisions-systematically-more-negative-when-job-growth-is-large">Are revisions systematically more negative when job growth is large?</a></li>
  <li><a href="#claims" id="toc-claims" class="nav-link" data-scroll-target="#claims">Claims</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Mini-Project #04: Just the Fact(-Check)s, Ma’am!</h1>
</div>



<div class="quarto-title-meta column-page-right">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Your Name </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="data-aquistion" class="level1">
<h1>Data Aquistion</h1>
<p>We download the data</p>
<section id="downloading-final-ces-estimates" class="level2">
<h2 class="anchored" data-anchor-id="downloading-final-ces-estimates">Downloading Final CES Estimates</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Send POST request using httr2</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>resp <span class="ot">&lt;-</span> httr2<span class="sc">::</span><span class="fu">request</span>(<span class="st">"https://data.bls.gov/pdq/SurveyOutputServlet"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  httr2<span class="sc">::</span><span class="fu">req_method</span>(<span class="st">"POST"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  httr2<span class="sc">::</span><span class="fu">req_headers</span>(</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Content-Type"</span> <span class="ot">=</span> <span class="st">"application/x-www-form-urlencoded"</span>,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Origin"</span>       <span class="ot">=</span> <span class="st">"https://data.bls.gov"</span>,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Referer"</span>      <span class="ot">=</span> <span class="st">"https://data.bls.gov/pdq/SurveyOutputServlet"</span>,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"User-Agent"</span>   <span class="ot">=</span> <span class="st">"Mozilla/5.0"</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  httr2<span class="sc">::</span><span class="fu">req_body_form</span>(</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">request_action     =</span> <span class="st">"get_data"</span>,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">reformat           =</span> <span class="st">"true"</span>,</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">from_results_page  =</span> <span class="st">"true"</span>,</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">from_year          =</span> <span class="st">"1979"</span>,</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">to_year            =</span> <span class="st">"2025"</span>,</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">initial_request    =</span> <span class="st">"false"</span>,</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">data_tool          =</span> <span class="st">"surveymost"</span>,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">series_id          =</span> <span class="st">"CES0000000001"</span>,</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">years_option       =</span> <span class="st">"specific_years"</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  httr2<span class="sc">::</span><span class="fu">req_perform</span>()</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Parse HTML and grab the correct (second) table</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>html <span class="ot">&lt;-</span> httr2<span class="sc">::</span><span class="fu">resp_body_html</span>(resp)</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>tables <span class="ot">&lt;-</span> html <span class="sc">|&gt;</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  rvest<span class="sc">::</span><span class="fu">html_elements</span>(<span class="st">"table"</span>)</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="co"># first table is metadata, second is Year/Jan...Dec</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>ces_raw <span class="ot">&lt;-</span> tables[[<span class="dv">2</span>]] <span class="sc">|&gt;</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  rvest<span class="sc">::</span><span class="fu">html_table</span>()</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Reshape Year/Jan...Dec into monthly date + level</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>ces_levels <span class="ot">&lt;-</span> ces_raw <span class="sc">|&gt;</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols      =</span> <span class="sc">-</span>Year,          <span class="co"># all columns except Year</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to  =</span> <span class="st">"month"</span>,</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"level"</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">ym_str =</span> <span class="fu">paste</span>(Year, month),          <span class="co"># "1979 Jan"</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">date   =</span> lubridate<span class="sc">::</span><span class="fu">ym</span>(ym_str),       <span class="co"># 1979-01-01</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">level  =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, level))</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(date, level) <span class="sc">|&gt;</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(date) <span class="sc">|&gt;</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>    date <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"1979-01-01"</span>),</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>    date <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">"2025-07-01"</span>)</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">drop_na</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="downloading-ces-revisions" class="level2">
<h2 class="anchored" data-anchor-id="downloading-ces-revisions">Downloading CES Revisions</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ============= PACKAGES =============</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr2)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Avoid HTTP/2 issues some Windows setups have with BLS</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">curl_http_version =</span> <span class="dv">2</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># ============= 1. REQUEST PAGE WITH httr2 =============</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>url_ces <span class="ot">&lt;-</span> <span class="st">"https://www.bls.gov/web/empsit/cesnaicsrev.htm"</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>req_ces <span class="ot">&lt;-</span> httr2<span class="sc">::</span><span class="fu">request</span>(url_ces) <span class="sc">|&gt;</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  httr2<span class="sc">::</span><span class="fu">req_method</span>(<span class="st">"GET"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  httr2<span class="sc">::</span><span class="fu">req_headers</span>(</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"User-Agent"</span>      <span class="ot">=</span> <span class="st">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:120.0) Gecko/20100101 Firefox/120.0"</span>,</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Accept"</span>          <span class="ot">=</span> <span class="st">"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"</span>,</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Accept-Language"</span> <span class="ot">=</span> <span class="st">"en-US,en;q=0.5"</span>,</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Referer"</span>         <span class="ot">=</span> <span class="st">"https://www.bls.gov/"</span>,</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Connection"</span>      <span class="ot">=</span> <span class="st">"keep-alive"</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>  httr2<span class="sc">::</span><span class="fu">req_options</span>(<span class="at">http_version =</span> <span class="dv">2</span>L)  <span class="co"># HTTP/1.1</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>resp_ces <span class="ot">&lt;-</span> httr2<span class="sc">::</span><span class="fu">req_perform</span>(req_ces)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>page_ces <span class="ot">&lt;-</span> resp_ces <span class="sc">|&gt;</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>  httr2<span class="sc">::</span><span class="fu">resp_body_html</span>()</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="co"># ============= 2. FUNCTION FOR A SINGLE YEAR =============</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Returns: date, original, final, revision</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>get_ces_revisions_year <span class="ot">&lt;-</span> <span class="cf">function</span>(year, <span class="at">html_page =</span> page_ces) {</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>  heading_pattern <span class="ot">&lt;-</span> <span class="fu">sprintf</span>(</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Nonfarm Payroll Employment: Revisions between over-the-month estimates, %d"</span>,</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>    year</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># All tables after the heading</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>  table_nodes <span class="ot">&lt;-</span> html_page <span class="sc">|&gt;</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>    rvest<span class="sc">::</span><span class="fu">html_elements</span>(</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>      <span class="at">xpath =</span> <span class="fu">sprintf</span>(<span class="st">"//*[contains(., '%s')][1]/following::table"</span>, heading_pattern)</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(table_nodes) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"No tables found for year "</span>, year)</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pick the first table with at least 12 rows</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>  tbl_raw <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (node <span class="cf">in</span> table_nodes) {</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>    tmp <span class="ot">&lt;-</span> <span class="fu">suppressWarnings</span>(rvest<span class="sc">::</span><span class="fu">html_table</span>(node, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>))</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(tmp) <span class="sc">&gt;=</span> <span class="dv">12</span>) {</span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>      tbl_raw <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">as_tibble</span>(tmp)</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>      <span class="cf">break</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.null</span>(tbl_raw)) {</span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"No suitable (&gt;= 12 rows) table found for year "</span>, year)</span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Clean: first 12 rows = Jan–Dec</span></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>  tbl_clean <span class="ot">&lt;-</span> tbl_raw <span class="sc">|&gt;</span></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>      <span class="at">month    =</span> <span class="dv">1</span>,   <span class="co"># not used for date, but this is month name</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>      <span class="at">original =</span> <span class="dv">3</span>,   <span class="co"># first estimate</span></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>      <span class="at">final    =</span> <span class="dv">5</span>    <span class="co"># third estimate</span></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>      <span class="co"># 1..12 as month index</span></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>      <span class="at">month_index =</span> dplyr<span class="sc">::</span><span class="fu">row_number</span>(),</span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Build date as "YYYY-MM-01" using the year argument</span></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>      <span class="at">date =</span> <span class="fu">as.Date</span>(<span class="fu">sprintf</span>(<span class="st">"%d-%02d-01"</span>, year, month_index)),</span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Clean numeric text: keep only digits and minus sign</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>      <span class="at">original_str =</span> stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(original, <span class="st">"[^0-9-]"</span>, <span class="st">""</span>),</span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>      <span class="at">final_str    =</span> stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(final,    <span class="st">"[^0-9-]"</span>, <span class="st">""</span>),</span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Convert to numeric with warnings suppressed</span></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>      <span class="at">original =</span> <span class="fu">suppressWarnings</span>(<span class="fu">as.numeric</span>(original_str)),</span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>      <span class="at">final    =</span> <span class="fu">suppressWarnings</span>(<span class="fu">as.numeric</span>(final_str)),</span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>      <span class="at">revision =</span> final <span class="sc">-</span> original</span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(date, original, final, revision)</span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>  tbl_clean</span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a><span class="co"># ============= 3. APPLY TO ALL YEARS 1979–2025 =============</span></span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a>years_vec <span class="ot">&lt;-</span> <span class="dv">1979</span><span class="sc">:</span><span class="dv">2025</span></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>ces_revisions_all <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map_dfr</span>(</span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>  years_vec,</span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>  get_ces_revisions_year</span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a><span class="co"># ============= 4. FILTER TO JAN 1979 – JUN 2025 =============</span></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>ces_revisions <span class="ot">&lt;-</span> ces_revisions_all <span class="sc">|&gt;</span></span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>    date <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"1979-01-01"</span>),</span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>    date <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">"2025-06-01"</span>)</span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="task-3-join-tables" class="level2">
<h2 class="anchored" data-anchor-id="task-3-join-tables">Task 3 Join Tables</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>ces_full <span class="ot">&lt;-</span> ces_levels <span class="sc">|&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(ces_revisions, <span class="at">by =</span> <span class="st">"date"</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date) <span class="sc">|&gt;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">year      =</span> <span class="fu">year</span>(date),</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">decade    =</span> <span class="fu">floor</span>(year <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">month_num =</span> <span class="fu">month</span>(date),</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">month_lab =</span> <span class="fu">factor</span>(</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">TRUE</span>),</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> month.abb</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">abs_revision     =</span> <span class="fu">abs</span>(revision),</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_revision     =</span> <span class="fu">if_else</span>(final <span class="sc">!=</span> <span class="dv">0</span>, revision <span class="sc">/</span> final, <span class="cn">NA_real_</span>),</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">abs_pct_revision =</span> <span class="fu">abs</span>(pct_revision)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="largest-revisions" class="level2">
<h2 class="anchored" data-anchor-id="largest-revisions">Largest Revisions</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Largest positive revision (Final - Original &gt; 0)</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>largest_positive <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(revision <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">|&gt;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(revision)) <span class="sc">|&gt;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Nicely formatted HTML table, including level</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>largest_positive_table <span class="ot">&lt;-</span> largest_positive <span class="sc">|&gt;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Date                         =</span> date,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>     <span class="st">`</span><span class="at">Payroll level (jobs)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(level <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Original employment (jobs)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(original <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Final employment (jobs)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(final <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Revision (jobs)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(revision <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Revision (%)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(<span class="fu">round</span>(pct_revision <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>), <span class="st">"%"</span>)</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  largest_positive_table,</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption  =</span> <span class="st">"Largest Positive CES Payroll Revision (Final − Original)"</span>,</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">format   =</span> <span class="st">"html"</span>,</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">big.mark =</span> <span class="st">","</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Largest Positive CES Payroll Revision (Final − Original)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Date</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Payroll level (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Original employment (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Final employment (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Revision (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Revision (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1984-12-01</td>
<td style="text-align: left;">96,107,000</td>
<td style="text-align: left;">733,000</td>
<td style="text-align: left;">1,116,000</td>
<td style="text-align: left;">383,000</td>
<td style="text-align: left;">34.32%</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Largest NEGATIVE revision (most negative Final - Original)</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>largest_negative <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">|&gt;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(revision) <span class="sc">|&gt;</span>        <span class="co"># most negative first</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Format nicely for HTML table</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>largest_negative_table <span class="ot">&lt;-</span> largest_negative <span class="sc">|&gt;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">Date =</span> date,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Payroll level (jobs)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(level <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Original employment (jobs)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(original <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Final employment (jobs)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(final <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Revision (jobs)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(revision <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Revision (%)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(<span class="fu">round</span>(pct_revision <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>), <span class="st">"%"</span>)</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. HTML table</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>  largest_negative_table,</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Largest Negative CES Payroll Revision (Final − Original)"</span>,</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Largest Negative CES Payroll Revision (Final − Original)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Date</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Payroll level (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Original employment (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Final employment (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Revision (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Revision (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2021-06-01</td>
<td style="text-align: left;">145,828,000</td>
<td style="text-align: left;">-701,000</td>
<td style="text-align: left;">-1,373,000</td>
<td style="text-align: left;">-672,000</td>
<td style="text-align: left;">48.94%</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>p_levels <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(date, level) <span class="sc">|&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> level)) <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#1f78b4"</span>, <span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Total Nonfarm Employment (Final CES Estimates)"</span>,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Seasonally Adjusted, 1979–2025"</span>,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Employment Level (Thousands)"</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>p_levels</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>p_revisions <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> revision)) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"gray50"</span>) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#e31a1c"</span>, <span class="at">linewidth =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"CES Payroll Revisions Over Time"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Positive = revised upward; Negative = revised downward"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Revision (Final - Original)"</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>p_revisions</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="year-with-the-largest-jump-in-typical-revision-size-median-revision-vs-previous-year" class="level2">
<h2 class="anchored" data-anchor-id="year-with-the-largest-jump-in-typical-revision-size-median-revision-vs-previous-year">Year with the largest jump in typical revision size (median |revision| vs previous year)</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>rev_change_by_year <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span> </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span> </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_abs_revision =</span> <span class="fu">median</span>(abs_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year) <span class="sc">|&gt;</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">change_from_prev =</span> median_abs_revision <span class="sc">-</span> <span class="fu">lag</span>(median_abs_revision)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>largest_jump <span class="ot">&lt;-</span> rev_change_by_year <span class="sc">|&gt;</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(change_from_prev)) <span class="sc">|&gt;</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">Year =</span> year,</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Median absolute revision (jobs)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(median_abs_revision <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Increase from previous year (jobs)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(change_from_prev <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>)</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  largest_jump,</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">format   =</span> <span class="st">"html"</span>,</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption  =</span> <span class="st">"Year with the Largest Increase in Typical CES Revision Size (Median Absolute Revision)"</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Year with the Largest Increase in Typical CES Revision Size (Median Absolute Revision)</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Year</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Median absolute revision (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Increase from previous year (jobs)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2022</td>
<td style="text-align: left;">139,500</td>
<td style="text-align: left;">103,500</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="largest-election-year-spike" class="level2">
<h2 class="anchored" data-anchor-id="largest-election-year-spike">Largest election year spike</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define U.S. presidential election years</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>election_years <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1980</span>, <span class="dv">1984</span>, <span class="dv">1988</span>, <span class="dv">1992</span>, <span class="dv">1996</span>, <span class="dv">2000</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2004</span>, <span class="dv">2008</span>, <span class="dv">2012</span>, <span class="dv">2016</span>, <span class="dv">2020</span>, <span class="dv">2024</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Mark election years in the full CES dataset</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>ces_full <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">is_election_year =</span> year <span class="sc">%in%</span> election_years)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute magnitude statistics for election years only</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>election_magnitude_stats <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(is_election_year) <span class="sc">|&gt;</span>        <span class="co"># keep election years</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_abs_rev   =</span> <span class="fu">mean</span>(abs_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_abs_rev =</span> <span class="fu">median</span>(abs_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_abs_rev    =</span> <span class="fu">max</span>(abs_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(max_abs_rev)) <span class="sc">|&gt;</span>      <span class="co"># sort by largest spike</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">Year =</span> year,</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean absolute revision (jobs)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(mean_abs_rev <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Median absolute revision (jobs)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(median_abs_rev <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Maximum single-month revision (jobs)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(max_abs_rev <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>)</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Render clean HTML table</span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>  election_magnitude_stats,</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Magnitude of CES Revisions in Presidential Election Years (Sorted by Largest Monthly Spike)"</span></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Magnitude of CES Revisions in Presidential Election Years (Sorted by Largest Monthly Spike)</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Year</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Mean absolute revision (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Median absolute revision (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Maximum single-month revision (jobs)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1984</td>
<td style="text-align: left;">81,700</td>
<td style="text-align: left;">39,500</td>
<td style="text-align: left;">383,000</td>
</tr>
<tr class="even">
<td style="text-align: right;">1988</td>
<td style="text-align: left;">37,400</td>
<td style="text-align: left;">14,000</td>
<td style="text-align: left;">144,000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1980</td>
<td style="text-align: left;">73,100</td>
<td style="text-align: left;">84,500</td>
<td style="text-align: left;">128,000</td>
</tr>
<tr class="even">
<td style="text-align: right;">2004</td>
<td style="text-align: left;">55,800</td>
<td style="text-align: left;">50,500</td>
<td style="text-align: left;">128,000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2000</td>
<td style="text-align: left;">42,300</td>
<td style="text-align: left;">32,500</td>
<td style="text-align: left;">111,000</td>
</tr>
<tr class="even">
<td style="text-align: right;">2012</td>
<td style="text-align: left;">35,000</td>
<td style="text-align: left;">24,500</td>
<td style="text-align: left;">107,000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2024</td>
<td style="text-align: left;">47,200</td>
<td style="text-align: left;">47,000</td>
<td style="text-align: left;">104,000</td>
</tr>
<tr class="even">
<td style="text-align: right;">1992</td>
<td style="text-align: left;">55,300</td>
<td style="text-align: left;">50,000</td>
<td style="text-align: left;">102,000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2008</td>
<td style="text-align: left;">35,700</td>
<td style="text-align: left;">32,500</td>
<td style="text-align: left;">97,000</td>
</tr>
<tr class="even">
<td style="text-align: right;">2020</td>
<td style="text-align: left;">34,300</td>
<td style="text-align: left;">39,500</td>
<td style="text-align: left;">89,000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1996</td>
<td style="text-align: left;">30,600</td>
<td style="text-align: left;">27,000</td>
<td style="text-align: left;">84,000</td>
</tr>
<tr class="even">
<td style="text-align: right;">2016</td>
<td style="text-align: left;">20,300</td>
<td style="text-align: left;">20,000</td>
<td style="text-align: left;">56,000</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># direction</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>election_direction_stats <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(is_election_year) <span class="sc">|&gt;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_signed_rev   =</span> <span class="fu">mean</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_signed_rev =</span> <span class="fu">median</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_signed_rev    =</span> <span class="fu">min</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_signed_rev    =</span> <span class="fu">max</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>election_direction_table <span class="ot">&lt;-</span> election_direction_stats <span class="sc">|&gt;</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">Year =</span> year,</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean revision (jobs)</span><span class="st">`</span>   <span class="ot">=</span> <span class="fu">round</span>(mean_signed_rev <span class="sc">*</span> <span class="dv">1000</span>, <span class="dv">0</span>),</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Median revision (jobs)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(median_signed_rev <span class="sc">*</span> <span class="dv">1000</span>, <span class="dv">0</span>),</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Most negative revision (jobs)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(min_signed_rev <span class="sc">*</span> <span class="dv">1000</span>, <span class="dv">0</span>),</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Most positive revision (jobs)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(max_signed_rev <span class="sc">*</span> <span class="dv">1000</span>, <span class="dv">0</span>)</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>    Year,</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean revision (jobs)</span><span class="st">`</span>,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Median revision (jobs)</span><span class="st">`</span>,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Most negative revision (jobs)</span><span class="st">`</span>,</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Most positive revision (jobs)</span><span class="st">`</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="sc">-</span>Year, <span class="sc">~</span> <span class="fu">formatC</span>(.x, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">big.mark =</span> <span class="st">","</span>))) <span class="sc">|&gt;</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>  election_direction_table,</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Direction of CES Payroll Revisions in Election Years"</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Direction of CES Payroll Revisions in Election Years</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Year</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Mean revision (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Median revision (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Most negative revision (jobs)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Most positive revision (jobs)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1980</td>
<td style="text-align: left;">19,100</td>
<td style="text-align: left;">22,500</td>
<td style="text-align: left;">-94,000</td>
<td style="text-align: left;">128,000</td>
</tr>
<tr class="even">
<td style="text-align: right;">1984</td>
<td style="text-align: left;">23,900</td>
<td style="text-align: left;">9,000</td>
<td style="text-align: left;">-179,000</td>
<td style="text-align: left;">383,000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1988</td>
<td style="text-align: left;">-27,800</td>
<td style="text-align: left;">-6,500</td>
<td style="text-align: left;">-144,000</td>
<td style="text-align: left;">27,000</td>
</tr>
<tr class="even">
<td style="text-align: right;">1992</td>
<td style="text-align: left;">16,100</td>
<td style="text-align: left;">33,000</td>
<td style="text-align: left;">-102,000</td>
<td style="text-align: left;">92,000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1996</td>
<td style="text-align: left;">15,000</td>
<td style="text-align: left;">15,500</td>
<td style="text-align: left;">-27,000</td>
<td style="text-align: left;">84,000</td>
</tr>
<tr class="even">
<td style="text-align: right;">2000</td>
<td style="text-align: left;">36,700</td>
<td style="text-align: left;">27,000</td>
<td style="text-align: left;">-28,000</td>
<td style="text-align: left;">111,000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2004</td>
<td style="text-align: left;">21,800</td>
<td style="text-align: left;">22,000</td>
<td style="text-align: left;">-59,000</td>
<td style="text-align: left;">128,000</td>
</tr>
<tr class="even">
<td style="text-align: right;">2008</td>
<td style="text-align: left;">7,500</td>
<td style="text-align: left;">1,500</td>
<td style="text-align: left;">-66,000</td>
<td style="text-align: left;">97,000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2012</td>
<td style="text-align: left;">25,000</td>
<td style="text-align: left;">6,000</td>
<td style="text-align: left;">-27,000</td>
<td style="text-align: left;">107,000</td>
</tr>
<tr class="even">
<td style="text-align: right;">2016</td>
<td style="text-align: left;">-13,300</td>
<td style="text-align: left;">-13,500</td>
<td style="text-align: left;">-56,000</td>
<td style="text-align: left;">22,000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2020</td>
<td style="text-align: left;">4,500</td>
<td style="text-align: left;">2,000</td>
<td style="text-align: left;">-47,000</td>
<td style="text-align: left;">89,000</td>
</tr>
<tr class="even">
<td style="text-align: right;">2024</td>
<td style="text-align: left;">-37,000</td>
<td style="text-align: left;">-40,500</td>
<td style="text-align: left;">-104,000</td>
<td style="text-align: left;">49,000</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ces_full, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> abs_revision,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">color =</span> is_election_year)) <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"gray60"</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"TRUE"</span>  <span class="ot">=</span> <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Magnitude of CES Revisions Over Time (Election Years Highlighted)"</span>,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Election years in red — shows magnitude spikes"</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Absolute Revision"</span>,</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Election Year?"</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ces_full, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> revision,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">color =</span> is_election_year)) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"gray60"</span>,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"TRUE"</span>  <span class="ot">=</span> <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Signed CES Revisions (Election Years Highlighted)"</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Shows whether revisions trended upward or downward"</span>,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Revision"</span>,</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Election Year?"</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 1. Election years + colors (your original palette)</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>election_years <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1980</span>, <span class="dv">1984</span>, <span class="dv">1988</span>, <span class="dv">1992</span>, <span class="dv">1996</span>, <span class="dv">2000</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>                    <span class="dv">2004</span>, <span class="dv">2008</span>, <span class="dv">2012</span>, <span class="dv">2016</span>, <span class="dv">2020</span>, <span class="dv">2024</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>election_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"1980"</span> <span class="ot">=</span> <span class="st">"#D11149"</span>,</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"1984"</span> <span class="ot">=</span> <span class="st">"#0081A7"</span>,</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"1988"</span> <span class="ot">=</span> <span class="st">"#F17105"</span>,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"1992"</span> <span class="ot">=</span> <span class="st">"#9A3DFF"</span>,</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"1996"</span> <span class="ot">=</span> <span class="st">"#2EC4B6"</span>,</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2000"</span> <span class="ot">=</span> <span class="st">"#FFD23F"</span>,</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2004"</span> <span class="ot">=</span> <span class="st">"#A0522D"</span>,</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2008"</span> <span class="ot">=</span> <span class="st">"#1B4965"</span>,</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2012"</span> <span class="ot">=</span> <span class="st">"#FF6B6B"</span>,</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2016"</span> <span class="ot">=</span> <span class="st">"#4CAF50"</span>,</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2020"</span> <span class="ot">=</span> <span class="st">"#FB8500"</span>,</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2024"</span> <span class="ot">=</span> <span class="st">"#8E7DBE"</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 2. Make sure the helper columns exist on ces_full</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>ces_mag_plot <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">abs_rev        =</span> abs_revision,</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">is_election_year =</span> year <span class="sc">%in%</span> election_years,</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">election_factor  =</span> <span class="fu">factor</span>(year)</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a><span class="do">## 3. Build the ggplot version with THIN lines</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>p_mag <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># grey background: all months, *very* thin</span></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(</span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> ces_mag_plot,</span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> abs_rev),</span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"grey70"</span>,</span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">linewidth =</span> <span class="fl">0.2</span>,   <span class="co"># thinner than before</span></span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.7</span></span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>  <span class="co"># election years: colored, still a bit thinner than the old plot</span></span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(</span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> ces_mag_plot <span class="sc">|&gt;</span> <span class="fu">filter</span>(is_election_year),</span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> abs_rev, <span class="at">color =</span> election_factor),</span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">linewidth =</span> <span class="fl">0.8</span></span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> election_colors,</span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">name   =</span> <span class="st">"Election Year"</span></span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb13-56"><a href="#cb13-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">title    =</span> <span class="st">"Magnitude of CES Revisions (Absolute Values)"</span>,</span>
<span id="cb13-57"><a href="#cb13-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Election years highlighted — grey background shows all months"</span>,</span>
<span id="cb13-58"><a href="#cb13-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">x        =</span> <span class="st">"Year"</span>,</span>
<span id="cb13-59"><a href="#cb13-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">y        =</span> <span class="st">"Absolute Revision"</span></span>
<span id="cb13-60"><a href="#cb13-60" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb13-61"><a href="#cb13-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb13-62"><a href="#cb13-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb13-63"><a href="#cb13-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb13-64"><a href="#cb13-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title    =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb13-65"><a href="#cb13-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text     =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb13-66"><a href="#cb13-66" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-67"><a href="#cb13-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-68"><a href="#cb13-68" aria-hidden="true" tabindex="-1"></a><span class="do">## 4. Convert to interactive plotly</span></span>
<span id="cb13-69"><a href="#cb13-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-70"><a href="#cb13-70" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_mag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-459c8c9f20e9c367988f" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-459c8c9f20e9c367988f">{"x":{"data":[{"x":[3287,3318,3346,3377,3407,3438,3468,3499,3530,3560,3591,3621,3652,3683,3712,3743,3773,3804,3834,3865,3896,3926,3957,3987,4018,4049,4077,4108,4138,4169,4199,4230,4261,4291,4322,4352,4383,4414,4442,4473,4503,4534,4564,4595,4626,4656,4687,4717,4748,4779,4807,4838,4868,4899,4929,4960,4991,5021,5052,5082,5113,5144,5173,5204,5234,5265,5295,5326,5357,5387,5418,5448,5479,5510,5538,5569,5599,5630,5660,5691,5722,5752,5783,5813,5844,5875,5903,5934,5964,5995,6025,6056,6087,6117,6148,6178,6209,6240,6268,6299,6329,6360,6390,6421,6452,6482,6513,6543,6574,6605,6634,6665,6695,6726,6756,6787,6818,6848,6879,6909,6940,6971,6999,7030,7060,7091,7121,7152,7183,7213,7244,7274,7305,7336,7364,7395,7425,7456,7486,7517,7548,7578,7609,7639,7670,7701,7729,7760,7790,7821,7851,7882,7913,7943,7974,8004,8035,8066,8095,8126,8156,8187,8217,8248,8279,8309,8340,8370,8401,8432,8460,8491,8521,8552,8582,8613,8644,8674,8705,8735,8766,8797,8825,8856,8886,8917,8947,8978,9009,9039,9070,9100,9131,9162,9190,9221,9251,9282,9312,9343,9374,9404,9435,9465,9496,9527,9556,9587,9617,9648,9678,9709,9740,9770,9801,9831,9862,9893,9921,9952,9982,10013,10043,10074,10105,10135,10166,10196,10227,10258,10286,10317,10347,10378,10408,10439,10470,10500,10531,10561,10592,10623,10651,10682,10712,10743,10773,10804,10835,10865,10896,10926,10957,10988,11017,11048,11078,11109,11139,11170,11201,11231,11262,11292,11323,11354,11382,11413,11443,11474,11504,11535,11566,11596,11627,11657,11688,11719,11747,11778,11808,11839,11869,11900,11931,11961,11992,12022,12053,12084,12112,12143,12173,12204,12234,12265,12296,12326,12357,12387,12418,12449,12478,12509,12539,12570,12600,12631,12662,12692,12723,12753,12784,12815,12843,12874,12904,12935,12965,12996,13027,13057,13088,13118,13149,13180,13208,13239,13269,13300,13330,13361,13392,13422,13453,13483,13514,13545,13573,13604,13634,13665,13695,13726,13757,13787,13818,13848,13879,13910,13939,13970,14000,14031,14061,14092,14123,14153,14184,14214,14245,14276,14304,14335,14365,14396,14426,14457,14488,14518,14549,14579,14610,14641,14669,14700,14730,14761,14791,14822,14853,14883,14914,14944,14975,15006,15034,15065,15095,15126,15156,15187,15218,15248,15279,15309,15340,15371,15400,15431,15461,15492,15522,15553,15584,15614,15645,15675,15706,15737,15765,15796,15826,15857,15887,15918,15949,15979,16010,16040,16071,16102,16130,16161,16191,16222,16252,16283,16314,16344,16375,16405,16436,16467,16495,16526,16556,16587,16617,16648,16679,16709,16740,16770,16801,16832,16861,16892,16922,16953,16983,17014,17045,17075,17106,17136,17167,17198,17226,17257,17287,17318,17348,17379,17410,17440,17471,17501,17532,17563,17591,17622,17652,17683,17713,17744,17775,17805,17836,17866,17897,17928,17956,17987,18017,18048,18078,18109,18140,18170,18201,18231,18262,18293,18322,18353,18383,18414,18444,18475,18506,18536,18567,18597,18628,18659,18687,18718,18748,18779,18809,18840,18871,18901,18932,18962,18993,19024,19052,19083,19113,19144,19174,19205,19236,19266,19297,19327,19358,19389,19417,19448,19478,19509,19539,19570,19601,19631,19662,19692,19723,19754,19783,19814,19844,19875,19905,19936,19967,19997,20028,20058,20089,20120,20148,20179,20209,20240],"y":[null,null,2,32,49,108,19,120,160,1,null,null,null,null,2,82,7,121,87,120,128,43,47,94,null,null,2,106,52,114,286,303,93,58,74,55,null,null,2,18,120,52,331,122,65,118,40,186,null,null,2,3,43,63,54,107,186,287,12,185,null,null,2,16,19,50,29,54,79,179,6,383,null,null,2,44,41,69,16,87,66,87,14,145,null,null,2,16,3,62,7,44,28,9,18,112,null,null,2,156,66,137,93,14,14,127,24,170,null,null,2,144,109,15,47,13,6,4,7,27,null,null,2,108,7,29,87,1,222,69,65,57,null,null,2,16,13,3,96,108,117,9,10,0,null,null,2,86,1,97,90,205,172,130,52,100,null,null,2,41,102,52,42,92,48,25,78,71,null,null,2,31,58,39,51,51,44,27,26,69,null,null,2,7,27,48,136,29,30,75,6,41,null,null,2,93,61,77,134,61,4,31,111,33,null,null,2,35,37,24,17,39,84,27,14,27,null,null,2,55,74,18,189,59,20,42,13,38,null,null,2,12,25,7,185,25,5,68,3,85,null,null,2,41,51,118,58,32,16,52,43,103,null,null,2,28,60,37,87,17,13,63,5,111,null,null,2,7,16,111,70,60,46,68,26,57,null,null,2,21,1,145,58,60,15,60,59,34,null,null,2,20,70,63,64,19,2,48,84,41,null,null,2,60,45,108,48,59,53,13,128,42,null,null,2,47,62,45,36,40,16,53,54,23,null,null,2,22,38,12,18,48,29,70,21,52,null,null,2,39,43,36,26,25,13,10,102,152,null,null,2,51,7,5,34,31,63,1,97,66,null,null,2,59,20,8,47,2,38,16,43,244,null,null,2,143,30,11,20,42,4,57,62,124,null,null,2,34,75,46,23,1,50,65,53,71,null,null,2,32,43,22,27,1,2,10,104,107,null,null,2,32,32,23,47,18,35,18,96,18,null,null,2,9,96,54,34,1,23,73,69,27,null,null,2,31,47,11,16,12,21,34,61,23,null,null,2,56,29,7,36,20,22,8,20,3,null,null,2,17,9,29,16,14,16,3,25,52,null,null,2,11,3,48,4,7,12,71,52,71,null,null,2,24,11,52,11,45,5,8,85,15,null,null,2,8,36,43,47,13,46,2,89,57,null,null,2,11,22,672,250,216,19,2,122,50,null,null,2,184,157,131,3,55,112,148,248,185,null,null,2,37,36,33,60,4,79,9,23,6,null,null,2,45,63,19,36,58,104,49,22,74,null,null,2,97,39,7],"text":["date: 1979-01-01<br />abs_rev:  NA","date: 1979-02-01<br />abs_rev:  NA","date: 1979-03-01<br />abs_rev:   2","date: 1979-04-01<br />abs_rev:  32","date: 1979-05-01<br />abs_rev:  49","date: 1979-06-01<br />abs_rev: 108","date: 1979-07-01<br />abs_rev:  19","date: 1979-08-01<br />abs_rev: 120","date: 1979-09-01<br />abs_rev: 160","date: 1979-10-01<br />abs_rev:   1","date: 1979-11-01<br />abs_rev:  NA","date: 1979-12-01<br />abs_rev:  NA","date: 1980-01-01<br />abs_rev:  NA","date: 1980-02-01<br />abs_rev:  NA","date: 1980-03-01<br />abs_rev:   2","date: 1980-04-01<br />abs_rev:  82","date: 1980-05-01<br />abs_rev:   7","date: 1980-06-01<br />abs_rev: 121","date: 1980-07-01<br />abs_rev:  87","date: 1980-08-01<br />abs_rev: 120","date: 1980-09-01<br />abs_rev: 128","date: 1980-10-01<br />abs_rev:  43","date: 1980-11-01<br />abs_rev:  47","date: 1980-12-01<br />abs_rev:  94","date: 1981-01-01<br />abs_rev:  NA","date: 1981-02-01<br />abs_rev:  NA","date: 1981-03-01<br />abs_rev:   2","date: 1981-04-01<br />abs_rev: 106","date: 1981-05-01<br />abs_rev:  52","date: 1981-06-01<br />abs_rev: 114","date: 1981-07-01<br />abs_rev: 286","date: 1981-08-01<br />abs_rev: 303","date: 1981-09-01<br />abs_rev:  93","date: 1981-10-01<br />abs_rev:  58","date: 1981-11-01<br />abs_rev:  74","date: 1981-12-01<br />abs_rev:  55","date: 1982-01-01<br />abs_rev:  NA","date: 1982-02-01<br />abs_rev:  NA","date: 1982-03-01<br />abs_rev:   2","date: 1982-04-01<br />abs_rev:  18","date: 1982-05-01<br />abs_rev: 120","date: 1982-06-01<br />abs_rev:  52","date: 1982-07-01<br />abs_rev: 331","date: 1982-08-01<br />abs_rev: 122","date: 1982-09-01<br />abs_rev:  65","date: 1982-10-01<br />abs_rev: 118","date: 1982-11-01<br />abs_rev:  40","date: 1982-12-01<br />abs_rev: 186","date: 1983-01-01<br />abs_rev:  NA","date: 1983-02-01<br />abs_rev:  NA","date: 1983-03-01<br />abs_rev:   2","date: 1983-04-01<br />abs_rev:   3","date: 1983-05-01<br />abs_rev:  43","date: 1983-06-01<br />abs_rev:  63","date: 1983-07-01<br />abs_rev:  54","date: 1983-08-01<br />abs_rev: 107","date: 1983-09-01<br />abs_rev: 186","date: 1983-10-01<br />abs_rev: 287","date: 1983-11-01<br />abs_rev:  12","date: 1983-12-01<br />abs_rev: 185","date: 1984-01-01<br />abs_rev:  NA","date: 1984-02-01<br />abs_rev:  NA","date: 1984-03-01<br />abs_rev:   2","date: 1984-04-01<br />abs_rev:  16","date: 1984-05-01<br />abs_rev:  19","date: 1984-06-01<br />abs_rev:  50","date: 1984-07-01<br />abs_rev:  29","date: 1984-08-01<br />abs_rev:  54","date: 1984-09-01<br />abs_rev:  79","date: 1984-10-01<br />abs_rev: 179","date: 1984-11-01<br />abs_rev:   6","date: 1984-12-01<br />abs_rev: 383","date: 1985-01-01<br />abs_rev:  NA","date: 1985-02-01<br />abs_rev:  NA","date: 1985-03-01<br />abs_rev:   2","date: 1985-04-01<br />abs_rev:  44","date: 1985-05-01<br />abs_rev:  41","date: 1985-06-01<br />abs_rev:  69","date: 1985-07-01<br />abs_rev:  16","date: 1985-08-01<br />abs_rev:  87","date: 1985-09-01<br />abs_rev:  66","date: 1985-10-01<br />abs_rev:  87","date: 1985-11-01<br />abs_rev:  14","date: 1985-12-01<br />abs_rev: 145","date: 1986-01-01<br />abs_rev:  NA","date: 1986-02-01<br />abs_rev:  NA","date: 1986-03-01<br />abs_rev:   2","date: 1986-04-01<br />abs_rev:  16","date: 1986-05-01<br />abs_rev:   3","date: 1986-06-01<br />abs_rev:  62","date: 1986-07-01<br />abs_rev:   7","date: 1986-08-01<br />abs_rev:  44","date: 1986-09-01<br />abs_rev:  28","date: 1986-10-01<br />abs_rev:   9","date: 1986-11-01<br />abs_rev:  18","date: 1986-12-01<br />abs_rev: 112","date: 1987-01-01<br />abs_rev:  NA","date: 1987-02-01<br />abs_rev:  NA","date: 1987-03-01<br />abs_rev:   2","date: 1987-04-01<br />abs_rev: 156","date: 1987-05-01<br />abs_rev:  66","date: 1987-06-01<br />abs_rev: 137","date: 1987-07-01<br />abs_rev:  93","date: 1987-08-01<br />abs_rev:  14","date: 1987-09-01<br />abs_rev:  14","date: 1987-10-01<br />abs_rev: 127","date: 1987-11-01<br />abs_rev:  24","date: 1987-12-01<br />abs_rev: 170","date: 1988-01-01<br />abs_rev:  NA","date: 1988-02-01<br />abs_rev:  NA","date: 1988-03-01<br />abs_rev:   2","date: 1988-04-01<br />abs_rev: 144","date: 1988-05-01<br />abs_rev: 109","date: 1988-06-01<br />abs_rev:  15","date: 1988-07-01<br />abs_rev:  47","date: 1988-08-01<br />abs_rev:  13","date: 1988-09-01<br />abs_rev:   6","date: 1988-10-01<br />abs_rev:   4","date: 1988-11-01<br />abs_rev:   7","date: 1988-12-01<br />abs_rev:  27","date: 1989-01-01<br />abs_rev:  NA","date: 1989-02-01<br />abs_rev:  NA","date: 1989-03-01<br />abs_rev:   2","date: 1989-04-01<br />abs_rev: 108","date: 1989-05-01<br />abs_rev:   7","date: 1989-06-01<br />abs_rev:  29","date: 1989-07-01<br />abs_rev:  87","date: 1989-08-01<br />abs_rev:   1","date: 1989-09-01<br />abs_rev: 222","date: 1989-10-01<br />abs_rev:  69","date: 1989-11-01<br />abs_rev:  65","date: 1989-12-01<br />abs_rev:  57","date: 1990-01-01<br />abs_rev:  NA","date: 1990-02-01<br />abs_rev:  NA","date: 1990-03-01<br />abs_rev:   2","date: 1990-04-01<br />abs_rev:  16","date: 1990-05-01<br />abs_rev:  13","date: 1990-06-01<br />abs_rev:   3","date: 1990-07-01<br />abs_rev:  96","date: 1990-08-01<br />abs_rev: 108","date: 1990-09-01<br />abs_rev: 117","date: 1990-10-01<br />abs_rev:   9","date: 1990-11-01<br />abs_rev:  10","date: 1990-12-01<br />abs_rev:   0","date: 1991-01-01<br />abs_rev:  NA","date: 1991-02-01<br />abs_rev:  NA","date: 1991-03-01<br />abs_rev:   2","date: 1991-04-01<br />abs_rev:  86","date: 1991-05-01<br />abs_rev:   1","date: 1991-06-01<br />abs_rev:  97","date: 1991-07-01<br />abs_rev:  90","date: 1991-08-01<br />abs_rev: 205","date: 1991-09-01<br />abs_rev: 172","date: 1991-10-01<br />abs_rev: 130","date: 1991-11-01<br />abs_rev:  52","date: 1991-12-01<br />abs_rev: 100","date: 1992-01-01<br />abs_rev:  NA","date: 1992-02-01<br />abs_rev:  NA","date: 1992-03-01<br />abs_rev:   2","date: 1992-04-01<br />abs_rev:  41","date: 1992-05-01<br />abs_rev: 102","date: 1992-06-01<br />abs_rev:  52","date: 1992-07-01<br />abs_rev:  42","date: 1992-08-01<br />abs_rev:  92","date: 1992-09-01<br />abs_rev:  48","date: 1992-10-01<br />abs_rev:  25","date: 1992-11-01<br />abs_rev:  78","date: 1992-12-01<br />abs_rev:  71","date: 1993-01-01<br />abs_rev:  NA","date: 1993-02-01<br />abs_rev:  NA","date: 1993-03-01<br />abs_rev:   2","date: 1993-04-01<br />abs_rev:  31","date: 1993-05-01<br />abs_rev:  58","date: 1993-06-01<br />abs_rev:  39","date: 1993-07-01<br />abs_rev:  51","date: 1993-08-01<br />abs_rev:  51","date: 1993-09-01<br />abs_rev:  44","date: 1993-10-01<br />abs_rev:  27","date: 1993-11-01<br />abs_rev:  26","date: 1993-12-01<br />abs_rev:  69","date: 1994-01-01<br />abs_rev:  NA","date: 1994-02-01<br />abs_rev:  NA","date: 1994-03-01<br />abs_rev:   2","date: 1994-04-01<br />abs_rev:   7","date: 1994-05-01<br />abs_rev:  27","date: 1994-06-01<br />abs_rev:  48","date: 1994-07-01<br />abs_rev: 136","date: 1994-08-01<br />abs_rev:  29","date: 1994-09-01<br />abs_rev:  30","date: 1994-10-01<br />abs_rev:  75","date: 1994-11-01<br />abs_rev:   6","date: 1994-12-01<br />abs_rev:  41","date: 1995-01-01<br />abs_rev:  NA","date: 1995-02-01<br />abs_rev:  NA","date: 1995-03-01<br />abs_rev:   2","date: 1995-04-01<br />abs_rev:  93","date: 1995-05-01<br />abs_rev:  61","date: 1995-06-01<br />abs_rev:  77","date: 1995-07-01<br />abs_rev: 134","date: 1995-08-01<br />abs_rev:  61","date: 1995-09-01<br />abs_rev:   4","date: 1995-10-01<br />abs_rev:  31","date: 1995-11-01<br />abs_rev: 111","date: 1995-12-01<br />abs_rev:  33","date: 1996-01-01<br />abs_rev:  NA","date: 1996-02-01<br />abs_rev:  NA","date: 1996-03-01<br />abs_rev:   2","date: 1996-04-01<br />abs_rev:  35","date: 1996-05-01<br />abs_rev:  37","date: 1996-06-01<br />abs_rev:  24","date: 1996-07-01<br />abs_rev:  17","date: 1996-08-01<br />abs_rev:  39","date: 1996-09-01<br />abs_rev:  84","date: 1996-10-01<br />abs_rev:  27","date: 1996-11-01<br />abs_rev:  14","date: 1996-12-01<br />abs_rev:  27","date: 1997-01-01<br />abs_rev:  NA","date: 1997-02-01<br />abs_rev:  NA","date: 1997-03-01<br />abs_rev:   2","date: 1997-04-01<br />abs_rev:  55","date: 1997-05-01<br />abs_rev:  74","date: 1997-06-01<br />abs_rev:  18","date: 1997-07-01<br />abs_rev: 189","date: 1997-08-01<br />abs_rev:  59","date: 1997-09-01<br />abs_rev:  20","date: 1997-10-01<br />abs_rev:  42","date: 1997-11-01<br />abs_rev:  13","date: 1997-12-01<br />abs_rev:  38","date: 1998-01-01<br />abs_rev:  NA","date: 1998-02-01<br />abs_rev:  NA","date: 1998-03-01<br />abs_rev:   2","date: 1998-04-01<br />abs_rev:  12","date: 1998-05-01<br />abs_rev:  25","date: 1998-06-01<br />abs_rev:   7","date: 1998-07-01<br />abs_rev: 185","date: 1998-08-01<br />abs_rev:  25","date: 1998-09-01<br />abs_rev:   5","date: 1998-10-01<br />abs_rev:  68","date: 1998-11-01<br />abs_rev:   3","date: 1998-12-01<br />abs_rev:  85","date: 1999-01-01<br />abs_rev:  NA","date: 1999-02-01<br />abs_rev:  NA","date: 1999-03-01<br />abs_rev:   2","date: 1999-04-01<br />abs_rev:  41","date: 1999-05-01<br />abs_rev:  51","date: 1999-06-01<br />abs_rev: 118","date: 1999-07-01<br />abs_rev:  58","date: 1999-08-01<br />abs_rev:  32","date: 1999-09-01<br />abs_rev:  16","date: 1999-10-01<br />abs_rev:  52","date: 1999-11-01<br />abs_rev:  43","date: 1999-12-01<br />abs_rev: 103","date: 2000-01-01<br />abs_rev:  NA","date: 2000-02-01<br />abs_rev:  NA","date: 2000-03-01<br />abs_rev:   2","date: 2000-04-01<br />abs_rev:  28","date: 2000-05-01<br />abs_rev:  60","date: 2000-06-01<br />abs_rev:  37","date: 2000-07-01<br />abs_rev:  87","date: 2000-08-01<br />abs_rev:  17","date: 2000-09-01<br />abs_rev:  13","date: 2000-10-01<br />abs_rev:  63","date: 2000-11-01<br />abs_rev:   5","date: 2000-12-01<br />abs_rev: 111","date: 2001-01-01<br />abs_rev:  NA","date: 2001-02-01<br />abs_rev:  NA","date: 2001-03-01<br />abs_rev:   2","date: 2001-04-01<br />abs_rev:   7","date: 2001-05-01<br />abs_rev:  16","date: 2001-06-01<br />abs_rev: 111","date: 2001-07-01<br />abs_rev:  70","date: 2001-08-01<br />abs_rev:  60","date: 2001-09-01<br />abs_rev:  46","date: 2001-10-01<br />abs_rev:  68","date: 2001-11-01<br />abs_rev:  26","date: 2001-12-01<br />abs_rev:  57","date: 2002-01-01<br />abs_rev:  NA","date: 2002-02-01<br />abs_rev:  NA","date: 2002-03-01<br />abs_rev:   2","date: 2002-04-01<br />abs_rev:  21","date: 2002-05-01<br />abs_rev:   1","date: 2002-06-01<br />abs_rev: 145","date: 2002-07-01<br />abs_rev:  58","date: 2002-08-01<br />abs_rev:  60","date: 2002-09-01<br />abs_rev:  15","date: 2002-10-01<br />abs_rev:  60","date: 2002-11-01<br />abs_rev:  59","date: 2002-12-01<br />abs_rev:  34","date: 2003-01-01<br />abs_rev:  NA","date: 2003-02-01<br />abs_rev:  NA","date: 2003-03-01<br />abs_rev:   2","date: 2003-04-01<br />abs_rev:  20","date: 2003-05-01<br />abs_rev:  70","date: 2003-06-01<br />abs_rev:  63","date: 2003-07-01<br />abs_rev:  64","date: 2003-08-01<br />abs_rev:  19","date: 2003-09-01<br />abs_rev:   2","date: 2003-10-01<br />abs_rev:  48","date: 2003-11-01<br />abs_rev:  84","date: 2003-12-01<br />abs_rev:  41","date: 2004-01-01<br />abs_rev:  NA","date: 2004-02-01<br />abs_rev:  NA","date: 2004-03-01<br />abs_rev:   2","date: 2004-04-01<br />abs_rev:  60","date: 2004-05-01<br />abs_rev:  45","date: 2004-06-01<br />abs_rev: 108","date: 2004-07-01<br />abs_rev:  48","date: 2004-08-01<br />abs_rev:  59","date: 2004-09-01<br />abs_rev:  53","date: 2004-10-01<br />abs_rev:  13","date: 2004-11-01<br />abs_rev: 128","date: 2004-12-01<br />abs_rev:  42","date: 2005-01-01<br />abs_rev:  NA","date: 2005-02-01<br />abs_rev:  NA","date: 2005-03-01<br />abs_rev:   2","date: 2005-04-01<br />abs_rev:  47","date: 2005-05-01<br />abs_rev:  62","date: 2005-06-01<br />abs_rev:  45","date: 2005-07-01<br />abs_rev:  36","date: 2005-08-01<br />abs_rev:  40","date: 2005-09-01<br />abs_rev:  16","date: 2005-10-01<br />abs_rev:  53","date: 2005-11-01<br />abs_rev:  54","date: 2005-12-01<br />abs_rev:  23","date: 2006-01-01<br />abs_rev:  NA","date: 2006-02-01<br />abs_rev:  NA","date: 2006-03-01<br />abs_rev:   2","date: 2006-04-01<br />abs_rev:  22","date: 2006-05-01<br />abs_rev:  38","date: 2006-06-01<br />abs_rev:  12","date: 2006-07-01<br />abs_rev:  18","date: 2006-08-01<br />abs_rev:  48","date: 2006-09-01<br />abs_rev:  29","date: 2006-10-01<br />abs_rev:  70","date: 2006-11-01<br />abs_rev:  21","date: 2006-12-01<br />abs_rev:  52","date: 2007-01-01<br />abs_rev:  NA","date: 2007-02-01<br />abs_rev:  NA","date: 2007-03-01<br />abs_rev:   2","date: 2007-04-01<br />abs_rev:  39","date: 2007-05-01<br />abs_rev:  43","date: 2007-06-01<br />abs_rev:  36","date: 2007-07-01<br />abs_rev:  26","date: 2007-08-01<br />abs_rev:  25","date: 2007-09-01<br />abs_rev:  13","date: 2007-10-01<br />abs_rev:  10","date: 2007-11-01<br />abs_rev: 102","date: 2007-12-01<br />abs_rev: 152","date: 2008-01-01<br />abs_rev:  NA","date: 2008-02-01<br />abs_rev:  NA","date: 2008-03-01<br />abs_rev:   2","date: 2008-04-01<br />abs_rev:  51","date: 2008-05-01<br />abs_rev:   7","date: 2008-06-01<br />abs_rev:   5","date: 2008-07-01<br />abs_rev:  34","date: 2008-08-01<br />abs_rev:  31","date: 2008-09-01<br />abs_rev:  63","date: 2008-10-01<br />abs_rev:   1","date: 2008-11-01<br />abs_rev:  97","date: 2008-12-01<br />abs_rev:  66","date: 2009-01-01<br />abs_rev:  NA","date: 2009-02-01<br />abs_rev:  NA","date: 2009-03-01<br />abs_rev:   2","date: 2009-04-01<br />abs_rev:  59","date: 2009-05-01<br />abs_rev:  20","date: 2009-06-01<br />abs_rev:   8","date: 2009-07-01<br />abs_rev:  47","date: 2009-08-01<br />abs_rev:   2","date: 2009-09-01<br />abs_rev:  38","date: 2009-10-01<br />abs_rev:  16","date: 2009-11-01<br />abs_rev:  43","date: 2009-12-01<br />abs_rev: 244","date: 2010-01-01<br />abs_rev:  NA","date: 2010-02-01<br />abs_rev:  NA","date: 2010-03-01<br />abs_rev:   2","date: 2010-04-01<br />abs_rev: 143","date: 2010-05-01<br />abs_rev:  30","date: 2010-06-01<br />abs_rev:  11","date: 2010-07-01<br />abs_rev:  20","date: 2010-08-01<br />abs_rev:  42","date: 2010-09-01<br />abs_rev:   4","date: 2010-10-01<br />abs_rev:  57","date: 2010-11-01<br />abs_rev:  62","date: 2010-12-01<br />abs_rev: 124","date: 2011-01-01<br />abs_rev:  NA","date: 2011-02-01<br />abs_rev:  NA","date: 2011-03-01<br />abs_rev:   2","date: 2011-04-01<br />abs_rev:  34","date: 2011-05-01<br />abs_rev:  75","date: 2011-06-01<br />abs_rev:  46","date: 2011-07-01<br />abs_rev:  23","date: 2011-08-01<br />abs_rev:   1","date: 2011-09-01<br />abs_rev:  50","date: 2011-10-01<br />abs_rev:  65","date: 2011-11-01<br />abs_rev:  53","date: 2011-12-01<br />abs_rev:  71","date: 2012-01-01<br />abs_rev:  NA","date: 2012-02-01<br />abs_rev:  NA","date: 2012-03-01<br />abs_rev:   2","date: 2012-04-01<br />abs_rev:  32","date: 2012-05-01<br />abs_rev:  43","date: 2012-06-01<br />abs_rev:  22","date: 2012-07-01<br />abs_rev:  27","date: 2012-08-01<br />abs_rev:   1","date: 2012-09-01<br />abs_rev:   2","date: 2012-10-01<br />abs_rev:  10","date: 2012-11-01<br />abs_rev: 104","date: 2012-12-01<br />abs_rev: 107","date: 2013-01-01<br />abs_rev:  NA","date: 2013-02-01<br />abs_rev:  NA","date: 2013-03-01<br />abs_rev:   2","date: 2013-04-01<br />abs_rev:  32","date: 2013-05-01<br />abs_rev:  32","date: 2013-06-01<br />abs_rev:  23","date: 2013-07-01<br />abs_rev:  47","date: 2013-08-01<br />abs_rev:  18","date: 2013-09-01<br />abs_rev:  35","date: 2013-10-01<br />abs_rev:  18","date: 2013-11-01<br />abs_rev:  96","date: 2013-12-01<br />abs_rev:  18","date: 2014-01-01<br />abs_rev:  NA","date: 2014-02-01<br />abs_rev:  NA","date: 2014-03-01<br />abs_rev:   2","date: 2014-04-01<br />abs_rev:   9","date: 2014-05-01<br />abs_rev:  96","date: 2014-06-01<br />abs_rev:  54","date: 2014-07-01<br />abs_rev:  34","date: 2014-08-01<br />abs_rev:   1","date: 2014-09-01<br />abs_rev:  23","date: 2014-10-01<br />abs_rev:  73","date: 2014-11-01<br />abs_rev:  69","date: 2014-12-01<br />abs_rev:  27","date: 2015-01-01<br />abs_rev:  NA","date: 2015-02-01<br />abs_rev:  NA","date: 2015-03-01<br />abs_rev:   2","date: 2015-04-01<br />abs_rev:  31","date: 2015-05-01<br />abs_rev:  47","date: 2015-06-01<br />abs_rev:  11","date: 2015-07-01<br />abs_rev:  16","date: 2015-08-01<br />abs_rev:  12","date: 2015-09-01<br />abs_rev:  21","date: 2015-10-01<br />abs_rev:  34","date: 2015-11-01<br />abs_rev:  61","date: 2015-12-01<br />abs_rev:  23","date: 2016-01-01<br />abs_rev:  NA","date: 2016-02-01<br />abs_rev:  NA","date: 2016-03-01<br />abs_rev:   2","date: 2016-04-01<br />abs_rev:  56","date: 2016-05-01<br />abs_rev:  29","date: 2016-06-01<br />abs_rev:   7","date: 2016-07-01<br />abs_rev:  36","date: 2016-08-01<br />abs_rev:  20","date: 2016-09-01<br />abs_rev:  22","date: 2016-10-01<br />abs_rev:   8","date: 2016-11-01<br />abs_rev:  20","date: 2016-12-01<br />abs_rev:   3","date: 2017-01-01<br />abs_rev:  NA","date: 2017-02-01<br />abs_rev:  NA","date: 2017-03-01<br />abs_rev:   2","date: 2017-04-01<br />abs_rev:  17","date: 2017-05-01<br />abs_rev:   9","date: 2017-06-01<br />abs_rev:  29","date: 2017-07-01<br />abs_rev:  16","date: 2017-08-01<br />abs_rev:  14","date: 2017-09-01<br />abs_rev:  16","date: 2017-10-01<br />abs_rev:   3","date: 2017-11-01<br />abs_rev:  25","date: 2017-12-01<br />abs_rev:  52","date: 2018-01-01<br />abs_rev:  NA","date: 2018-02-01<br />abs_rev:  NA","date: 2018-03-01<br />abs_rev:   2","date: 2018-04-01<br />abs_rev:  11","date: 2018-05-01<br />abs_rev:   3","date: 2018-06-01<br />abs_rev:  48","date: 2018-07-01<br />abs_rev:   4","date: 2018-08-01<br />abs_rev:   7","date: 2018-09-01<br />abs_rev:  12","date: 2018-10-01<br />abs_rev:  71","date: 2018-11-01<br />abs_rev:  52","date: 2018-12-01<br />abs_rev:  71","date: 2019-01-01<br />abs_rev:  NA","date: 2019-02-01<br />abs_rev:  NA","date: 2019-03-01<br />abs_rev:   2","date: 2019-04-01<br />abs_rev:  24","date: 2019-05-01<br />abs_rev:  11","date: 2019-06-01<br />abs_rev:  52","date: 2019-07-01<br />abs_rev:  11","date: 2019-08-01<br />abs_rev:  45","date: 2019-09-01<br />abs_rev:   5","date: 2019-10-01<br />abs_rev:   8","date: 2019-11-01<br />abs_rev:  85","date: 2019-12-01<br />abs_rev:  15","date: 2020-01-01<br />abs_rev:  NA","date: 2020-02-01<br />abs_rev:  NA","date: 2020-03-01<br />abs_rev:   2","date: 2020-04-01<br />abs_rev:   8","date: 2020-05-01<br />abs_rev:  36","date: 2020-06-01<br />abs_rev:  43","date: 2020-07-01<br />abs_rev:  47","date: 2020-08-01<br />abs_rev:  13","date: 2020-09-01<br />abs_rev:  46","date: 2020-10-01<br />abs_rev:   2","date: 2020-11-01<br />abs_rev:  89","date: 2020-12-01<br />abs_rev:  57","date: 2021-01-01<br />abs_rev:  NA","date: 2021-02-01<br />abs_rev:  NA","date: 2021-03-01<br />abs_rev:   2","date: 2021-04-01<br />abs_rev:  11","date: 2021-05-01<br />abs_rev:  22","date: 2021-06-01<br />abs_rev: 672","date: 2021-07-01<br />abs_rev: 250","date: 2021-08-01<br />abs_rev: 216","date: 2021-09-01<br />abs_rev:  19","date: 2021-10-01<br />abs_rev:   2","date: 2021-11-01<br />abs_rev: 122","date: 2021-12-01<br />abs_rev:  50","date: 2022-01-01<br />abs_rev:  NA","date: 2022-02-01<br />abs_rev:  NA","date: 2022-03-01<br />abs_rev:   2","date: 2022-04-01<br />abs_rev: 184","date: 2022-05-01<br />abs_rev: 157","date: 2022-06-01<br />abs_rev: 131","date: 2022-07-01<br />abs_rev:   3","date: 2022-08-01<br />abs_rev:  55","date: 2022-09-01<br />abs_rev: 112","date: 2022-10-01<br />abs_rev: 148","date: 2022-11-01<br />abs_rev: 248","date: 2022-12-01<br />abs_rev: 185","date: 2023-01-01<br />abs_rev:  NA","date: 2023-02-01<br />abs_rev:  NA","date: 2023-03-01<br />abs_rev:   2","date: 2023-04-01<br />abs_rev:  37","date: 2023-05-01<br />abs_rev:  36","date: 2023-06-01<br />abs_rev:  33","date: 2023-07-01<br />abs_rev:  60","date: 2023-08-01<br />abs_rev:   4","date: 2023-09-01<br />abs_rev:  79","date: 2023-10-01<br />abs_rev:   9","date: 2023-11-01<br />abs_rev:  23","date: 2023-12-01<br />abs_rev:   6","date: 2024-01-01<br />abs_rev:  NA","date: 2024-02-01<br />abs_rev:  NA","date: 2024-03-01<br />abs_rev:   2","date: 2024-04-01<br />abs_rev:  45","date: 2024-05-01<br />abs_rev:  63","date: 2024-06-01<br />abs_rev:  19","date: 2024-07-01<br />abs_rev:  36","date: 2024-08-01<br />abs_rev:  58","date: 2024-09-01<br />abs_rev: 104","date: 2024-10-01<br />abs_rev:  49","date: 2024-11-01<br />abs_rev:  22","date: 2024-12-01<br />abs_rev:  74","date: 2025-01-01<br />abs_rev:  NA","date: 2025-02-01<br />abs_rev:  NA","date: 2025-03-01<br />abs_rev:   2","date: 2025-04-01<br />abs_rev:  97","date: 2025-05-01<br />abs_rev:  39","date: 2025-06-01<br />abs_rev:   7"],"type":"scatter","mode":"lines","line":{"width":0.75590551181102372,"color":"rgba(179,179,179,0.7)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3652,3683,3712,3743,3773,3804,3834,3865,3896,3926,3957,3987],"y":[null,null,2,82,7,121,87,120,128,43,47,94],"text":["date: 1980-01-01<br />abs_rev:  NA<br />election_factor: 1980","date: 1980-02-01<br />abs_rev:  NA<br />election_factor: 1980","date: 1980-03-01<br />abs_rev:   2<br />election_factor: 1980","date: 1980-04-01<br />abs_rev:  82<br />election_factor: 1980","date: 1980-05-01<br />abs_rev:   7<br />election_factor: 1980","date: 1980-06-01<br />abs_rev: 121<br />election_factor: 1980","date: 1980-07-01<br />abs_rev:  87<br />election_factor: 1980","date: 1980-08-01<br />abs_rev: 120<br />election_factor: 1980","date: 1980-09-01<br />abs_rev: 128<br />election_factor: 1980","date: 1980-10-01<br />abs_rev:  43<br />election_factor: 1980","date: 1980-11-01<br />abs_rev:  47<br />election_factor: 1980","date: 1980-12-01<br />abs_rev:  94<br />election_factor: 1980"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(209,17,73,1)","dash":"solid"},"hoveron":"points","name":"1980","legendgroup":"1980","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[5113,5144,5173,5204,5234,5265,5295,5326,5357,5387,5418,5448],"y":[null,null,2,16,19,50,29,54,79,179,6,383],"text":["date: 1984-01-01<br />abs_rev:  NA<br />election_factor: 1984","date: 1984-02-01<br />abs_rev:  NA<br />election_factor: 1984","date: 1984-03-01<br />abs_rev:   2<br />election_factor: 1984","date: 1984-04-01<br />abs_rev:  16<br />election_factor: 1984","date: 1984-05-01<br />abs_rev:  19<br />election_factor: 1984","date: 1984-06-01<br />abs_rev:  50<br />election_factor: 1984","date: 1984-07-01<br />abs_rev:  29<br />election_factor: 1984","date: 1984-08-01<br />abs_rev:  54<br />election_factor: 1984","date: 1984-09-01<br />abs_rev:  79<br />election_factor: 1984","date: 1984-10-01<br />abs_rev: 179<br />election_factor: 1984","date: 1984-11-01<br />abs_rev:   6<br />election_factor: 1984","date: 1984-12-01<br />abs_rev: 383<br />election_factor: 1984"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(0,129,167,1)","dash":"solid"},"hoveron":"points","name":"1984","legendgroup":"1984","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[6574,6605,6634,6665,6695,6726,6756,6787,6818,6848,6879,6909],"y":[null,null,2,144,109,15,47,13,6,4,7,27],"text":["date: 1988-01-01<br />abs_rev:  NA<br />election_factor: 1988","date: 1988-02-01<br />abs_rev:  NA<br />election_factor: 1988","date: 1988-03-01<br />abs_rev:   2<br />election_factor: 1988","date: 1988-04-01<br />abs_rev: 144<br />election_factor: 1988","date: 1988-05-01<br />abs_rev: 109<br />election_factor: 1988","date: 1988-06-01<br />abs_rev:  15<br />election_factor: 1988","date: 1988-07-01<br />abs_rev:  47<br />election_factor: 1988","date: 1988-08-01<br />abs_rev:  13<br />election_factor: 1988","date: 1988-09-01<br />abs_rev:   6<br />election_factor: 1988","date: 1988-10-01<br />abs_rev:   4<br />election_factor: 1988","date: 1988-11-01<br />abs_rev:   7<br />election_factor: 1988","date: 1988-12-01<br />abs_rev:  27<br />election_factor: 1988"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(241,113,5,1)","dash":"solid"},"hoveron":"points","name":"1988","legendgroup":"1988","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[8035,8066,8095,8126,8156,8187,8217,8248,8279,8309,8340,8370],"y":[null,null,2,41,102,52,42,92,48,25,78,71],"text":["date: 1992-01-01<br />abs_rev:  NA<br />election_factor: 1992","date: 1992-02-01<br />abs_rev:  NA<br />election_factor: 1992","date: 1992-03-01<br />abs_rev:   2<br />election_factor: 1992","date: 1992-04-01<br />abs_rev:  41<br />election_factor: 1992","date: 1992-05-01<br />abs_rev: 102<br />election_factor: 1992","date: 1992-06-01<br />abs_rev:  52<br />election_factor: 1992","date: 1992-07-01<br />abs_rev:  42<br />election_factor: 1992","date: 1992-08-01<br />abs_rev:  92<br />election_factor: 1992","date: 1992-09-01<br />abs_rev:  48<br />election_factor: 1992","date: 1992-10-01<br />abs_rev:  25<br />election_factor: 1992","date: 1992-11-01<br />abs_rev:  78<br />election_factor: 1992","date: 1992-12-01<br />abs_rev:  71<br />election_factor: 1992"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(154,61,255,1)","dash":"solid"},"hoveron":"points","name":"1992","legendgroup":"1992","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[9496,9527,9556,9587,9617,9648,9678,9709,9740,9770,9801,9831],"y":[null,null,2,35,37,24,17,39,84,27,14,27],"text":["date: 1996-01-01<br />abs_rev:  NA<br />election_factor: 1996","date: 1996-02-01<br />abs_rev:  NA<br />election_factor: 1996","date: 1996-03-01<br />abs_rev:   2<br />election_factor: 1996","date: 1996-04-01<br />abs_rev:  35<br />election_factor: 1996","date: 1996-05-01<br />abs_rev:  37<br />election_factor: 1996","date: 1996-06-01<br />abs_rev:  24<br />election_factor: 1996","date: 1996-07-01<br />abs_rev:  17<br />election_factor: 1996","date: 1996-08-01<br />abs_rev:  39<br />election_factor: 1996","date: 1996-09-01<br />abs_rev:  84<br />election_factor: 1996","date: 1996-10-01<br />abs_rev:  27<br />election_factor: 1996","date: 1996-11-01<br />abs_rev:  14<br />election_factor: 1996","date: 1996-12-01<br />abs_rev:  27<br />election_factor: 1996"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(46,196,182,1)","dash":"solid"},"hoveron":"points","name":"1996","legendgroup":"1996","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[10957,10988,11017,11048,11078,11109,11139,11170,11201,11231,11262,11292],"y":[null,null,2,28,60,37,87,17,13,63,5,111],"text":["date: 2000-01-01<br />abs_rev:  NA<br />election_factor: 2000","date: 2000-02-01<br />abs_rev:  NA<br />election_factor: 2000","date: 2000-03-01<br />abs_rev:   2<br />election_factor: 2000","date: 2000-04-01<br />abs_rev:  28<br />election_factor: 2000","date: 2000-05-01<br />abs_rev:  60<br />election_factor: 2000","date: 2000-06-01<br />abs_rev:  37<br />election_factor: 2000","date: 2000-07-01<br />abs_rev:  87<br />election_factor: 2000","date: 2000-08-01<br />abs_rev:  17<br />election_factor: 2000","date: 2000-09-01<br />abs_rev:  13<br />election_factor: 2000","date: 2000-10-01<br />abs_rev:  63<br />election_factor: 2000","date: 2000-11-01<br />abs_rev:   5<br />election_factor: 2000","date: 2000-12-01<br />abs_rev: 111<br />election_factor: 2000"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(255,210,63,1)","dash":"solid"},"hoveron":"points","name":"2000","legendgroup":"2000","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[12418,12449,12478,12509,12539,12570,12600,12631,12662,12692,12723,12753],"y":[null,null,2,60,45,108,48,59,53,13,128,42],"text":["date: 2004-01-01<br />abs_rev:  NA<br />election_factor: 2004","date: 2004-02-01<br />abs_rev:  NA<br />election_factor: 2004","date: 2004-03-01<br />abs_rev:   2<br />election_factor: 2004","date: 2004-04-01<br />abs_rev:  60<br />election_factor: 2004","date: 2004-05-01<br />abs_rev:  45<br />election_factor: 2004","date: 2004-06-01<br />abs_rev: 108<br />election_factor: 2004","date: 2004-07-01<br />abs_rev:  48<br />election_factor: 2004","date: 2004-08-01<br />abs_rev:  59<br />election_factor: 2004","date: 2004-09-01<br />abs_rev:  53<br />election_factor: 2004","date: 2004-10-01<br />abs_rev:  13<br />election_factor: 2004","date: 2004-11-01<br />abs_rev: 128<br />election_factor: 2004","date: 2004-12-01<br />abs_rev:  42<br />election_factor: 2004"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(160,82,45,1)","dash":"solid"},"hoveron":"points","name":"2004","legendgroup":"2004","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[13879,13910,13939,13970,14000,14031,14061,14092,14123,14153,14184,14214],"y":[null,null,2,51,7,5,34,31,63,1,97,66],"text":["date: 2008-01-01<br />abs_rev:  NA<br />election_factor: 2008","date: 2008-02-01<br />abs_rev:  NA<br />election_factor: 2008","date: 2008-03-01<br />abs_rev:   2<br />election_factor: 2008","date: 2008-04-01<br />abs_rev:  51<br />election_factor: 2008","date: 2008-05-01<br />abs_rev:   7<br />election_factor: 2008","date: 2008-06-01<br />abs_rev:   5<br />election_factor: 2008","date: 2008-07-01<br />abs_rev:  34<br />election_factor: 2008","date: 2008-08-01<br />abs_rev:  31<br />election_factor: 2008","date: 2008-09-01<br />abs_rev:  63<br />election_factor: 2008","date: 2008-10-01<br />abs_rev:   1<br />election_factor: 2008","date: 2008-11-01<br />abs_rev:  97<br />election_factor: 2008","date: 2008-12-01<br />abs_rev:  66<br />election_factor: 2008"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(27,73,101,1)","dash":"solid"},"hoveron":"points","name":"2008","legendgroup":"2008","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[15340,15371,15400,15431,15461,15492,15522,15553,15584,15614,15645,15675],"y":[null,null,2,32,43,22,27,1,2,10,104,107],"text":["date: 2012-01-01<br />abs_rev:  NA<br />election_factor: 2012","date: 2012-02-01<br />abs_rev:  NA<br />election_factor: 2012","date: 2012-03-01<br />abs_rev:   2<br />election_factor: 2012","date: 2012-04-01<br />abs_rev:  32<br />election_factor: 2012","date: 2012-05-01<br />abs_rev:  43<br />election_factor: 2012","date: 2012-06-01<br />abs_rev:  22<br />election_factor: 2012","date: 2012-07-01<br />abs_rev:  27<br />election_factor: 2012","date: 2012-08-01<br />abs_rev:   1<br />election_factor: 2012","date: 2012-09-01<br />abs_rev:   2<br />election_factor: 2012","date: 2012-10-01<br />abs_rev:  10<br />election_factor: 2012","date: 2012-11-01<br />abs_rev: 104<br />election_factor: 2012","date: 2012-12-01<br />abs_rev: 107<br />election_factor: 2012"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(255,107,107,1)","dash":"solid"},"hoveron":"points","name":"2012","legendgroup":"2012","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[16801,16832,16861,16892,16922,16953,16983,17014,17045,17075,17106,17136],"y":[null,null,2,56,29,7,36,20,22,8,20,3],"text":["date: 2016-01-01<br />abs_rev:  NA<br />election_factor: 2016","date: 2016-02-01<br />abs_rev:  NA<br />election_factor: 2016","date: 2016-03-01<br />abs_rev:   2<br />election_factor: 2016","date: 2016-04-01<br />abs_rev:  56<br />election_factor: 2016","date: 2016-05-01<br />abs_rev:  29<br />election_factor: 2016","date: 2016-06-01<br />abs_rev:   7<br />election_factor: 2016","date: 2016-07-01<br />abs_rev:  36<br />election_factor: 2016","date: 2016-08-01<br />abs_rev:  20<br />election_factor: 2016","date: 2016-09-01<br />abs_rev:  22<br />election_factor: 2016","date: 2016-10-01<br />abs_rev:   8<br />election_factor: 2016","date: 2016-11-01<br />abs_rev:  20<br />election_factor: 2016","date: 2016-12-01<br />abs_rev:   3<br />election_factor: 2016"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(76,175,80,1)","dash":"solid"},"hoveron":"points","name":"2016","legendgroup":"2016","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18262,18293,18322,18353,18383,18414,18444,18475,18506,18536,18567,18597],"y":[null,null,2,8,36,43,47,13,46,2,89,57],"text":["date: 2020-01-01<br />abs_rev:  NA<br />election_factor: 2020","date: 2020-02-01<br />abs_rev:  NA<br />election_factor: 2020","date: 2020-03-01<br />abs_rev:   2<br />election_factor: 2020","date: 2020-04-01<br />abs_rev:   8<br />election_factor: 2020","date: 2020-05-01<br />abs_rev:  36<br />election_factor: 2020","date: 2020-06-01<br />abs_rev:  43<br />election_factor: 2020","date: 2020-07-01<br />abs_rev:  47<br />election_factor: 2020","date: 2020-08-01<br />abs_rev:  13<br />election_factor: 2020","date: 2020-09-01<br />abs_rev:  46<br />election_factor: 2020","date: 2020-10-01<br />abs_rev:   2<br />election_factor: 2020","date: 2020-11-01<br />abs_rev:  89<br />election_factor: 2020","date: 2020-12-01<br />abs_rev:  57<br />election_factor: 2020"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(251,133,0,1)","dash":"solid"},"hoveron":"points","name":"2020","legendgroup":"2020","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19723,19754,19783,19814,19844,19875,19905,19936,19967,19997,20028,20058],"y":[null,null,2,45,63,19,36,58,104,49,22,74],"text":["date: 2024-01-01<br />abs_rev:  NA<br />election_factor: 2024","date: 2024-02-01<br />abs_rev:  NA<br />election_factor: 2024","date: 2024-03-01<br />abs_rev:   2<br />election_factor: 2024","date: 2024-04-01<br />abs_rev:  45<br />election_factor: 2024","date: 2024-05-01<br />abs_rev:  63<br />election_factor: 2024","date: 2024-06-01<br />abs_rev:  19<br />election_factor: 2024","date: 2024-07-01<br />abs_rev:  36<br />election_factor: 2024","date: 2024-08-01<br />abs_rev:  58<br />election_factor: 2024","date: 2024-09-01<br />abs_rev: 104<br />election_factor: 2024","date: 2024-10-01<br />abs_rev:  49<br />election_factor: 2024","date: 2024-11-01<br />abs_rev:  22<br />election_factor: 2024","date: 2024-12-01<br />abs_rev:  74<br />election_factor: 2024"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(142,125,190,1)","dash":"solid"},"hoveron":"points","name":"2024","legendgroup":"2024","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":47.61477791614778,"r":9.2984640929846396,"b":47.422166874221666,"l":54.860938148609378},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279},"title":{"text":"Magnitude of CES Revisions (Absolute Values)","font":{"color":"rgba(0,0,0,1)","family":"","size":22.316313823163139},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2439.3499999999999,21087.650000000001],"tickmode":"array","ticktext":["1980","1990","2000","2010","2020"],"tickvals":[3652,7305,10957,14609.999999999998,18262],"categoryorder":"array","categoryarray":["1980","1990","2000","2010","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.6492320464923198,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":14.877542548775427},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-33.600000000000001,705.60000000000002],"tickmode":"array","ticktext":["0","200","400","600"],"tickvals":[0,200,399.99999999999994,600],"categoryorder":"array","categoryarray":["0","200","400","600"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.6492320464923198,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":14.87754254877543},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Absolute Revision","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":13.283520132835198},"title":{"text":"Election Year","font":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2bf82bde638b":{"x":{},"y":{},"type":"scatter"},"2bf859192461":{"x":{},"y":{},"colour":{}}},"cur_data":"2bf82bde638b","visdat":{"2bf82bde638b":["function (y) ","x"],"2bf859192461":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Election years and colors</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>election_years <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1980</span>, <span class="dv">1984</span>, <span class="dv">1988</span>, <span class="dv">1992</span>, <span class="dv">1996</span>, <span class="dv">2000</span>,</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>                    <span class="dv">2004</span>, <span class="dv">2008</span>, <span class="dv">2012</span>, <span class="dv">2016</span>, <span class="dv">2020</span>, <span class="dv">2024</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>election_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"1980"</span> <span class="ot">=</span> <span class="st">"#E63946"</span>,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"1984"</span> <span class="ot">=</span> <span class="st">"#1D3557"</span>,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"1988"</span> <span class="ot">=</span> <span class="st">"#F4A261"</span>,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"1992"</span> <span class="ot">=</span> <span class="st">"#2A9D8F"</span>,</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"1996"</span> <span class="ot">=</span> <span class="st">"#A8DADC"</span>,</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2000"</span> <span class="ot">=</span> <span class="st">"#E9C46A"</span>,</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2004"</span> <span class="ot">=</span> <span class="st">"#264653"</span>,</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2008"</span> <span class="ot">=</span> <span class="st">"#9B5DE5"</span>,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2012"</span> <span class="ot">=</span> <span class="st">"#F15BB5"</span>,</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2016"</span> <span class="ot">=</span> <span class="st">"#00BBF9"</span>,</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2020"</span> <span class="ot">=</span> <span class="st">"#00F5D4"</span>,</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2024"</span> <span class="ot">=</span> <span class="st">"#FF8500"</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Prep data for direction plot</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>ces_dir_plot <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision), <span class="sc">!</span><span class="fu">is.na</span>(date)) <span class="sc">|&gt;</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">is_election_year =</span> year <span class="sc">%in%</span> election_years,</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">election_factor  =</span> <span class="fu">factor</span>(year)</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Thinner lines + distinct colors</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>p_dir <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># background: all months in light grey, thin</span></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> ces_dir_plot,</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> revision),</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"grey80"</span>, <span class="at">linewidth =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.7</span></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># election years: colored, slightly thicker</span></span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> ces_dir_plot <span class="sc">|&gt;</span> <span class="fu">filter</span>(is_election_year),</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> revision, <span class="at">color =</span> election_factor),</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">linewidth =</span> <span class="fl">0.6</span></span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">linewidth =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> election_colors, <span class="at">name =</span> <span class="st">"Election Year"</span>) <span class="sc">+</span></span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">title    =</span> <span class="st">"Direction of CES Revisions (Signed Values)"</span>,</span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Election years highlighted — positive vs negative revisions"</span>,</span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Revision (Final - Original)"</span></span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text  =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_dir)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-bf215d312d418717ca1a" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-bf215d312d418717ca1a">{"x":{"data":[{"x":[3346,3377,3407,3438,3468,3499,3530,3560,3712,3743,3773,3804,3834,3865,3896,3926,3957,3987,4077,4108,4138,4169,4199,4230,4261,4291,4322,4352,4442,4473,4503,4534,4564,4595,4626,4656,4687,4717,4807,4838,4868,4899,4929,4960,4991,5021,5052,5082,5173,5204,5234,5265,5295,5326,5357,5387,5418,5448,5538,5569,5599,5630,5660,5691,5722,5752,5783,5813,5903,5934,5964,5995,6025,6056,6087,6117,6148,6178,6268,6299,6329,6360,6390,6421,6452,6482,6513,6543,6634,6665,6695,6726,6756,6787,6818,6848,6879,6909,6999,7030,7060,7091,7121,7152,7183,7213,7244,7274,7364,7395,7425,7456,7486,7517,7548,7578,7609,7639,7729,7760,7790,7821,7851,7882,7913,7943,7974,8004,8095,8126,8156,8187,8217,8248,8279,8309,8340,8370,8460,8491,8521,8552,8582,8613,8644,8674,8705,8735,8825,8856,8886,8917,8947,8978,9009,9039,9070,9100,9190,9221,9251,9282,9312,9343,9374,9404,9435,9465,9556,9587,9617,9648,9678,9709,9740,9770,9801,9831,9921,9952,9982,10013,10043,10074,10105,10135,10166,10196,10286,10317,10347,10378,10408,10439,10470,10500,10531,10561,10651,10682,10712,10743,10773,10804,10835,10865,10896,10926,11017,11048,11078,11109,11139,11170,11201,11231,11262,11292,11382,11413,11443,11474,11504,11535,11566,11596,11627,11657,11747,11778,11808,11839,11869,11900,11931,11961,11992,12022,12112,12143,12173,12204,12234,12265,12296,12326,12357,12387,12478,12509,12539,12570,12600,12631,12662,12692,12723,12753,12843,12874,12904,12935,12965,12996,13027,13057,13088,13118,13208,13239,13269,13300,13330,13361,13392,13422,13453,13483,13573,13604,13634,13665,13695,13726,13757,13787,13818,13848,13939,13970,14000,14031,14061,14092,14123,14153,14184,14214,14304,14335,14365,14396,14426,14457,14488,14518,14549,14579,14669,14700,14730,14761,14791,14822,14853,14883,14914,14944,15034,15065,15095,15126,15156,15187,15218,15248,15279,15309,15400,15431,15461,15492,15522,15553,15584,15614,15645,15675,15765,15796,15826,15857,15887,15918,15949,15979,16010,16040,16130,16161,16191,16222,16252,16283,16314,16344,16375,16405,16495,16526,16556,16587,16617,16648,16679,16709,16740,16770,16861,16892,16922,16953,16983,17014,17045,17075,17106,17136,17226,17257,17287,17318,17348,17379,17410,17440,17471,17501,17591,17622,17652,17683,17713,17744,17775,17805,17836,17866,17956,17987,18017,18048,18078,18109,18140,18170,18201,18231,18322,18353,18383,18414,18444,18475,18506,18536,18567,18597,18687,18718,18748,18779,18809,18840,18871,18901,18932,18962,19052,19083,19113,19144,19174,19205,19236,19266,19297,19327,19417,19448,19478,19509,19539,19570,19601,19631,19662,19692,19783,19814,19844,19875,19905,19936,19967,19997,20028,20058,20148,20179,20209,20240],"y":[2,-32,-49,-108,-19,-120,-160,-1,2,-82,-7,121,-87,120,128,43,47,-94,2,106,52,114,286,-303,93,58,74,55,2,-18,120,52,331,122,65,-118,-40,186,2,3,43,63,-54,107,-186,-287,-12,185,2,16,19,-50,29,-54,79,-179,-6,383,2,44,41,69,-16,87,66,-87,14,145,2,16,-3,-62,-7,-44,-28,-9,-18,112,2,-156,-66,-137,93,-14,14,-127,-24,170,2,-144,-109,15,-47,-13,-6,4,-7,27,2,108,7,29,87,-1,222,-69,-65,57,2,16,-13,-3,96,108,117,-9,10,0,2,86,1,97,-90,205,172,130,-52,100,2,41,-102,-52,-42,92,48,25,78,71,2,-31,-58,39,51,51,44,-27,-26,69,2,7,-27,48,136,29,30,75,6,41,2,-93,61,-77,134,61,4,31,111,33,2,35,37,-24,17,39,84,-27,14,-27,2,55,-74,18,189,59,-20,42,13,38,2,-12,-25,7,185,25,5,68,3,85,2,41,-51,118,58,32,-16,52,-43,103,2,-28,60,37,87,17,13,63,5,111,2,7,-16,111,70,-60,46,68,26,-57,2,21,1,145,58,60,15,60,59,34,2,-20,-70,-63,-64,-19,-2,48,84,-41,2,60,-45,108,48,-59,-53,-13,128,42,2,47,62,45,36,-40,-16,53,54,23,2,-22,38,12,18,48,29,70,-21,52,2,-39,-43,-36,-26,25,13,10,102,152,2,51,-7,-5,34,31,-63,1,97,-66,2,-59,-20,-8,-47,2,-38,-16,-43,-244,2,-143,-30,11,20,42,4,-57,62,124,2,34,75,46,23,1,-50,65,53,71,2,32,43,-22,-27,-1,2,10,104,107,2,32,32,23,-47,18,-35,18,96,18,2,-9,96,54,34,1,-23,-73,69,27,2,31,47,11,16,12,-21,34,61,23,2,-56,-29,-7,-36,-20,22,8,-20,3,2,17,-9,-29,-16,-14,-16,-3,25,52,2,-11,-3,-48,-4,7,-12,-71,52,71,2,-24,11,52,11,45,-5,8,85,-15,2,8,36,-43,-47,-13,-46,2,89,57,2,-11,-22,-672,-250,216,-19,-2,122,50,2,184,157,-131,3,55,112,148,248,185,2,37,36,-33,-60,-4,-79,9,-23,6,2,-45,-63,-19,-36,-58,-104,49,-22,-74,2,-97,-39,7],"text":["date: 1979-03-01<br />revision:    2","date: 1979-04-01<br />revision:  -32","date: 1979-05-01<br />revision:  -49","date: 1979-06-01<br />revision: -108","date: 1979-07-01<br />revision:  -19","date: 1979-08-01<br />revision: -120","date: 1979-09-01<br />revision: -160","date: 1979-10-01<br />revision:   -1","date: 1980-03-01<br />revision:    2","date: 1980-04-01<br />revision:  -82","date: 1980-05-01<br />revision:   -7","date: 1980-06-01<br />revision:  121","date: 1980-07-01<br />revision:  -87","date: 1980-08-01<br />revision:  120","date: 1980-09-01<br />revision:  128","date: 1980-10-01<br />revision:   43","date: 1980-11-01<br />revision:   47","date: 1980-12-01<br />revision:  -94","date: 1981-03-01<br />revision:    2","date: 1981-04-01<br />revision:  106","date: 1981-05-01<br />revision:   52","date: 1981-06-01<br />revision:  114","date: 1981-07-01<br />revision:  286","date: 1981-08-01<br />revision: -303","date: 1981-09-01<br />revision:   93","date: 1981-10-01<br />revision:   58","date: 1981-11-01<br />revision:   74","date: 1981-12-01<br />revision:   55","date: 1982-03-01<br />revision:    2","date: 1982-04-01<br />revision:  -18","date: 1982-05-01<br />revision:  120","date: 1982-06-01<br />revision:   52","date: 1982-07-01<br />revision:  331","date: 1982-08-01<br />revision:  122","date: 1982-09-01<br />revision:   65","date: 1982-10-01<br />revision: -118","date: 1982-11-01<br />revision:  -40","date: 1982-12-01<br />revision:  186","date: 1983-03-01<br />revision:    2","date: 1983-04-01<br />revision:    3","date: 1983-05-01<br />revision:   43","date: 1983-06-01<br />revision:   63","date: 1983-07-01<br />revision:  -54","date: 1983-08-01<br />revision:  107","date: 1983-09-01<br />revision: -186","date: 1983-10-01<br />revision: -287","date: 1983-11-01<br />revision:  -12","date: 1983-12-01<br />revision:  185","date: 1984-03-01<br />revision:    2","date: 1984-04-01<br />revision:   16","date: 1984-05-01<br />revision:   19","date: 1984-06-01<br />revision:  -50","date: 1984-07-01<br />revision:   29","date: 1984-08-01<br />revision:  -54","date: 1984-09-01<br />revision:   79","date: 1984-10-01<br />revision: -179","date: 1984-11-01<br />revision:   -6","date: 1984-12-01<br />revision:  383","date: 1985-03-01<br />revision:    2","date: 1985-04-01<br />revision:   44","date: 1985-05-01<br />revision:   41","date: 1985-06-01<br />revision:   69","date: 1985-07-01<br />revision:  -16","date: 1985-08-01<br />revision:   87","date: 1985-09-01<br />revision:   66","date: 1985-10-01<br />revision:  -87","date: 1985-11-01<br />revision:   14","date: 1985-12-01<br />revision:  145","date: 1986-03-01<br />revision:    2","date: 1986-04-01<br />revision:   16","date: 1986-05-01<br />revision:   -3","date: 1986-06-01<br />revision:  -62","date: 1986-07-01<br />revision:   -7","date: 1986-08-01<br />revision:  -44","date: 1986-09-01<br />revision:  -28","date: 1986-10-01<br />revision:   -9","date: 1986-11-01<br />revision:  -18","date: 1986-12-01<br />revision:  112","date: 1987-03-01<br />revision:    2","date: 1987-04-01<br />revision: -156","date: 1987-05-01<br />revision:  -66","date: 1987-06-01<br />revision: -137","date: 1987-07-01<br />revision:   93","date: 1987-08-01<br />revision:  -14","date: 1987-09-01<br />revision:   14","date: 1987-10-01<br />revision: -127","date: 1987-11-01<br />revision:  -24","date: 1987-12-01<br />revision:  170","date: 1988-03-01<br />revision:    2","date: 1988-04-01<br />revision: -144","date: 1988-05-01<br />revision: -109","date: 1988-06-01<br />revision:   15","date: 1988-07-01<br />revision:  -47","date: 1988-08-01<br />revision:  -13","date: 1988-09-01<br />revision:   -6","date: 1988-10-01<br />revision:    4","date: 1988-11-01<br />revision:   -7","date: 1988-12-01<br />revision:   27","date: 1989-03-01<br />revision:    2","date: 1989-04-01<br />revision:  108","date: 1989-05-01<br />revision:    7","date: 1989-06-01<br />revision:   29","date: 1989-07-01<br />revision:   87","date: 1989-08-01<br />revision:   -1","date: 1989-09-01<br />revision:  222","date: 1989-10-01<br />revision:  -69","date: 1989-11-01<br />revision:  -65","date: 1989-12-01<br />revision:   57","date: 1990-03-01<br />revision:    2","date: 1990-04-01<br />revision:   16","date: 1990-05-01<br />revision:  -13","date: 1990-06-01<br />revision:   -3","date: 1990-07-01<br />revision:   96","date: 1990-08-01<br />revision:  108","date: 1990-09-01<br />revision:  117","date: 1990-10-01<br />revision:   -9","date: 1990-11-01<br />revision:   10","date: 1990-12-01<br />revision:    0","date: 1991-03-01<br />revision:    2","date: 1991-04-01<br />revision:   86","date: 1991-05-01<br />revision:    1","date: 1991-06-01<br />revision:   97","date: 1991-07-01<br />revision:  -90","date: 1991-08-01<br />revision:  205","date: 1991-09-01<br />revision:  172","date: 1991-10-01<br />revision:  130","date: 1991-11-01<br />revision:  -52","date: 1991-12-01<br />revision:  100","date: 1992-03-01<br />revision:    2","date: 1992-04-01<br />revision:   41","date: 1992-05-01<br />revision: -102","date: 1992-06-01<br />revision:  -52","date: 1992-07-01<br />revision:  -42","date: 1992-08-01<br />revision:   92","date: 1992-09-01<br />revision:   48","date: 1992-10-01<br />revision:   25","date: 1992-11-01<br />revision:   78","date: 1992-12-01<br />revision:   71","date: 1993-03-01<br />revision:    2","date: 1993-04-01<br />revision:  -31","date: 1993-05-01<br />revision:  -58","date: 1993-06-01<br />revision:   39","date: 1993-07-01<br />revision:   51","date: 1993-08-01<br />revision:   51","date: 1993-09-01<br />revision:   44","date: 1993-10-01<br />revision:  -27","date: 1993-11-01<br />revision:  -26","date: 1993-12-01<br />revision:   69","date: 1994-03-01<br />revision:    2","date: 1994-04-01<br />revision:    7","date: 1994-05-01<br />revision:  -27","date: 1994-06-01<br />revision:   48","date: 1994-07-01<br />revision:  136","date: 1994-08-01<br />revision:   29","date: 1994-09-01<br />revision:   30","date: 1994-10-01<br />revision:   75","date: 1994-11-01<br />revision:    6","date: 1994-12-01<br />revision:   41","date: 1995-03-01<br />revision:    2","date: 1995-04-01<br />revision:  -93","date: 1995-05-01<br />revision:   61","date: 1995-06-01<br />revision:  -77","date: 1995-07-01<br />revision:  134","date: 1995-08-01<br />revision:   61","date: 1995-09-01<br />revision:    4","date: 1995-10-01<br />revision:   31","date: 1995-11-01<br />revision:  111","date: 1995-12-01<br />revision:   33","date: 1996-03-01<br />revision:    2","date: 1996-04-01<br />revision:   35","date: 1996-05-01<br />revision:   37","date: 1996-06-01<br />revision:  -24","date: 1996-07-01<br />revision:   17","date: 1996-08-01<br />revision:   39","date: 1996-09-01<br />revision:   84","date: 1996-10-01<br />revision:  -27","date: 1996-11-01<br />revision:   14","date: 1996-12-01<br />revision:  -27","date: 1997-03-01<br />revision:    2","date: 1997-04-01<br />revision:   55","date: 1997-05-01<br />revision:  -74","date: 1997-06-01<br />revision:   18","date: 1997-07-01<br />revision:  189","date: 1997-08-01<br />revision:   59","date: 1997-09-01<br />revision:  -20","date: 1997-10-01<br />revision:   42","date: 1997-11-01<br />revision:   13","date: 1997-12-01<br />revision:   38","date: 1998-03-01<br />revision:    2","date: 1998-04-01<br />revision:  -12","date: 1998-05-01<br />revision:  -25","date: 1998-06-01<br />revision:    7","date: 1998-07-01<br />revision:  185","date: 1998-08-01<br />revision:   25","date: 1998-09-01<br />revision:    5","date: 1998-10-01<br />revision:   68","date: 1998-11-01<br />revision:    3","date: 1998-12-01<br />revision:   85","date: 1999-03-01<br />revision:    2","date: 1999-04-01<br />revision:   41","date: 1999-05-01<br />revision:  -51","date: 1999-06-01<br />revision:  118","date: 1999-07-01<br />revision:   58","date: 1999-08-01<br />revision:   32","date: 1999-09-01<br />revision:  -16","date: 1999-10-01<br />revision:   52","date: 1999-11-01<br />revision:  -43","date: 1999-12-01<br />revision:  103","date: 2000-03-01<br />revision:    2","date: 2000-04-01<br />revision:  -28","date: 2000-05-01<br />revision:   60","date: 2000-06-01<br />revision:   37","date: 2000-07-01<br />revision:   87","date: 2000-08-01<br />revision:   17","date: 2000-09-01<br />revision:   13","date: 2000-10-01<br />revision:   63","date: 2000-11-01<br />revision:    5","date: 2000-12-01<br />revision:  111","date: 2001-03-01<br />revision:    2","date: 2001-04-01<br />revision:    7","date: 2001-05-01<br />revision:  -16","date: 2001-06-01<br />revision:  111","date: 2001-07-01<br />revision:   70","date: 2001-08-01<br />revision:  -60","date: 2001-09-01<br />revision:   46","date: 2001-10-01<br />revision:   68","date: 2001-11-01<br />revision:   26","date: 2001-12-01<br />revision:  -57","date: 2002-03-01<br />revision:    2","date: 2002-04-01<br />revision:   21","date: 2002-05-01<br />revision:    1","date: 2002-06-01<br />revision:  145","date: 2002-07-01<br />revision:   58","date: 2002-08-01<br />revision:   60","date: 2002-09-01<br />revision:   15","date: 2002-10-01<br />revision:   60","date: 2002-11-01<br />revision:   59","date: 2002-12-01<br />revision:   34","date: 2003-03-01<br />revision:    2","date: 2003-04-01<br />revision:  -20","date: 2003-05-01<br />revision:  -70","date: 2003-06-01<br />revision:  -63","date: 2003-07-01<br />revision:  -64","date: 2003-08-01<br />revision:  -19","date: 2003-09-01<br />revision:   -2","date: 2003-10-01<br />revision:   48","date: 2003-11-01<br />revision:   84","date: 2003-12-01<br />revision:  -41","date: 2004-03-01<br />revision:    2","date: 2004-04-01<br />revision:   60","date: 2004-05-01<br />revision:  -45","date: 2004-06-01<br />revision:  108","date: 2004-07-01<br />revision:   48","date: 2004-08-01<br />revision:  -59","date: 2004-09-01<br />revision:  -53","date: 2004-10-01<br />revision:  -13","date: 2004-11-01<br />revision:  128","date: 2004-12-01<br />revision:   42","date: 2005-03-01<br />revision:    2","date: 2005-04-01<br />revision:   47","date: 2005-05-01<br />revision:   62","date: 2005-06-01<br />revision:   45","date: 2005-07-01<br />revision:   36","date: 2005-08-01<br />revision:  -40","date: 2005-09-01<br />revision:  -16","date: 2005-10-01<br />revision:   53","date: 2005-11-01<br />revision:   54","date: 2005-12-01<br />revision:   23","date: 2006-03-01<br />revision:    2","date: 2006-04-01<br />revision:  -22","date: 2006-05-01<br />revision:   38","date: 2006-06-01<br />revision:   12","date: 2006-07-01<br />revision:   18","date: 2006-08-01<br />revision:   48","date: 2006-09-01<br />revision:   29","date: 2006-10-01<br />revision:   70","date: 2006-11-01<br />revision:  -21","date: 2006-12-01<br />revision:   52","date: 2007-03-01<br />revision:    2","date: 2007-04-01<br />revision:  -39","date: 2007-05-01<br />revision:  -43","date: 2007-06-01<br />revision:  -36","date: 2007-07-01<br />revision:  -26","date: 2007-08-01<br />revision:   25","date: 2007-09-01<br />revision:   13","date: 2007-10-01<br />revision:   10","date: 2007-11-01<br />revision:  102","date: 2007-12-01<br />revision:  152","date: 2008-03-01<br />revision:    2","date: 2008-04-01<br />revision:   51","date: 2008-05-01<br />revision:   -7","date: 2008-06-01<br />revision:   -5","date: 2008-07-01<br />revision:   34","date: 2008-08-01<br />revision:   31","date: 2008-09-01<br />revision:  -63","date: 2008-10-01<br />revision:    1","date: 2008-11-01<br />revision:   97","date: 2008-12-01<br />revision:  -66","date: 2009-03-01<br />revision:    2","date: 2009-04-01<br />revision:  -59","date: 2009-05-01<br />revision:  -20","date: 2009-06-01<br />revision:   -8","date: 2009-07-01<br />revision:  -47","date: 2009-08-01<br />revision:    2","date: 2009-09-01<br />revision:  -38","date: 2009-10-01<br />revision:  -16","date: 2009-11-01<br />revision:  -43","date: 2009-12-01<br />revision: -244","date: 2010-03-01<br />revision:    2","date: 2010-04-01<br />revision: -143","date: 2010-05-01<br />revision:  -30","date: 2010-06-01<br />revision:   11","date: 2010-07-01<br />revision:   20","date: 2010-08-01<br />revision:   42","date: 2010-09-01<br />revision:    4","date: 2010-10-01<br />revision:  -57","date: 2010-11-01<br />revision:   62","date: 2010-12-01<br />revision:  124","date: 2011-03-01<br />revision:    2","date: 2011-04-01<br />revision:   34","date: 2011-05-01<br />revision:   75","date: 2011-06-01<br />revision:   46","date: 2011-07-01<br />revision:   23","date: 2011-08-01<br />revision:    1","date: 2011-09-01<br />revision:  -50","date: 2011-10-01<br />revision:   65","date: 2011-11-01<br />revision:   53","date: 2011-12-01<br />revision:   71","date: 2012-03-01<br />revision:    2","date: 2012-04-01<br />revision:   32","date: 2012-05-01<br />revision:   43","date: 2012-06-01<br />revision:  -22","date: 2012-07-01<br />revision:  -27","date: 2012-08-01<br />revision:   -1","date: 2012-09-01<br />revision:    2","date: 2012-10-01<br />revision:   10","date: 2012-11-01<br />revision:  104","date: 2012-12-01<br />revision:  107","date: 2013-03-01<br />revision:    2","date: 2013-04-01<br />revision:   32","date: 2013-05-01<br />revision:   32","date: 2013-06-01<br />revision:   23","date: 2013-07-01<br />revision:  -47","date: 2013-08-01<br />revision:   18","date: 2013-09-01<br />revision:  -35","date: 2013-10-01<br />revision:   18","date: 2013-11-01<br />revision:   96","date: 2013-12-01<br />revision:   18","date: 2014-03-01<br />revision:    2","date: 2014-04-01<br />revision:   -9","date: 2014-05-01<br />revision:   96","date: 2014-06-01<br />revision:   54","date: 2014-07-01<br />revision:   34","date: 2014-08-01<br />revision:    1","date: 2014-09-01<br />revision:  -23","date: 2014-10-01<br />revision:  -73","date: 2014-11-01<br />revision:   69","date: 2014-12-01<br />revision:   27","date: 2015-03-01<br />revision:    2","date: 2015-04-01<br />revision:   31","date: 2015-05-01<br />revision:   47","date: 2015-06-01<br />revision:   11","date: 2015-07-01<br />revision:   16","date: 2015-08-01<br />revision:   12","date: 2015-09-01<br />revision:  -21","date: 2015-10-01<br />revision:   34","date: 2015-11-01<br />revision:   61","date: 2015-12-01<br />revision:   23","date: 2016-03-01<br />revision:    2","date: 2016-04-01<br />revision:  -56","date: 2016-05-01<br />revision:  -29","date: 2016-06-01<br />revision:   -7","date: 2016-07-01<br />revision:  -36","date: 2016-08-01<br />revision:  -20","date: 2016-09-01<br />revision:   22","date: 2016-10-01<br />revision:    8","date: 2016-11-01<br />revision:  -20","date: 2016-12-01<br />revision:    3","date: 2017-03-01<br />revision:    2","date: 2017-04-01<br />revision:   17","date: 2017-05-01<br />revision:   -9","date: 2017-06-01<br />revision:  -29","date: 2017-07-01<br />revision:  -16","date: 2017-08-01<br />revision:  -14","date: 2017-09-01<br />revision:  -16","date: 2017-10-01<br />revision:   -3","date: 2017-11-01<br />revision:   25","date: 2017-12-01<br />revision:   52","date: 2018-03-01<br />revision:    2","date: 2018-04-01<br />revision:  -11","date: 2018-05-01<br />revision:   -3","date: 2018-06-01<br />revision:  -48","date: 2018-07-01<br />revision:   -4","date: 2018-08-01<br />revision:    7","date: 2018-09-01<br />revision:  -12","date: 2018-10-01<br />revision:  -71","date: 2018-11-01<br />revision:   52","date: 2018-12-01<br />revision:   71","date: 2019-03-01<br />revision:    2","date: 2019-04-01<br />revision:  -24","date: 2019-05-01<br />revision:   11","date: 2019-06-01<br />revision:   52","date: 2019-07-01<br />revision:   11","date: 2019-08-01<br />revision:   45","date: 2019-09-01<br />revision:   -5","date: 2019-10-01<br />revision:    8","date: 2019-11-01<br />revision:   85","date: 2019-12-01<br />revision:  -15","date: 2020-03-01<br />revision:    2","date: 2020-04-01<br />revision:    8","date: 2020-05-01<br />revision:   36","date: 2020-06-01<br />revision:  -43","date: 2020-07-01<br />revision:  -47","date: 2020-08-01<br />revision:  -13","date: 2020-09-01<br />revision:  -46","date: 2020-10-01<br />revision:    2","date: 2020-11-01<br />revision:   89","date: 2020-12-01<br />revision:   57","date: 2021-03-01<br />revision:    2","date: 2021-04-01<br />revision:  -11","date: 2021-05-01<br />revision:  -22","date: 2021-06-01<br />revision: -672","date: 2021-07-01<br />revision: -250","date: 2021-08-01<br />revision:  216","date: 2021-09-01<br />revision:  -19","date: 2021-10-01<br />revision:   -2","date: 2021-11-01<br />revision:  122","date: 2021-12-01<br />revision:   50","date: 2022-03-01<br />revision:    2","date: 2022-04-01<br />revision:  184","date: 2022-05-01<br />revision:  157","date: 2022-06-01<br />revision: -131","date: 2022-07-01<br />revision:    3","date: 2022-08-01<br />revision:   55","date: 2022-09-01<br />revision:  112","date: 2022-10-01<br />revision:  148","date: 2022-11-01<br />revision:  248","date: 2022-12-01<br />revision:  185","date: 2023-03-01<br />revision:    2","date: 2023-04-01<br />revision:   37","date: 2023-05-01<br />revision:   36","date: 2023-06-01<br />revision:  -33","date: 2023-07-01<br />revision:  -60","date: 2023-08-01<br />revision:   -4","date: 2023-09-01<br />revision:  -79","date: 2023-10-01<br />revision:    9","date: 2023-11-01<br />revision:  -23","date: 2023-12-01<br />revision:    6","date: 2024-03-01<br />revision:    2","date: 2024-04-01<br />revision:  -45","date: 2024-05-01<br />revision:  -63","date: 2024-06-01<br />revision:  -19","date: 2024-07-01<br />revision:  -36","date: 2024-08-01<br />revision:  -58","date: 2024-09-01<br />revision: -104","date: 2024-10-01<br />revision:   49","date: 2024-11-01<br />revision:  -22","date: 2024-12-01<br />revision:  -74","date: 2025-03-01<br />revision:    2","date: 2025-04-01<br />revision:  -97","date: 2025-05-01<br />revision:  -39","date: 2025-06-01<br />revision:    7"],"type":"scatter","mode":"lines","line":{"width":0.75590551181102372,"color":"rgba(204,204,204,0.7)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3712,3743,3773,3804,3834,3865,3896,3926,3957,3987],"y":[2,-82,-7,121,-87,120,128,43,47,-94],"text":["date: 1980-03-01<br />revision:    2<br />election_factor: 1980","date: 1980-04-01<br />revision:  -82<br />election_factor: 1980","date: 1980-05-01<br />revision:   -7<br />election_factor: 1980","date: 1980-06-01<br />revision:  121<br />election_factor: 1980","date: 1980-07-01<br />revision:  -87<br />election_factor: 1980","date: 1980-08-01<br />revision:  120<br />election_factor: 1980","date: 1980-09-01<br />revision:  128<br />election_factor: 1980","date: 1980-10-01<br />revision:   43<br />election_factor: 1980","date: 1980-11-01<br />revision:   47<br />election_factor: 1980","date: 1980-12-01<br />revision:  -94<br />election_factor: 1980"],"type":"scatter","mode":"lines","line":{"width":2.2677165354330708,"color":"rgba(230,57,70,1)","dash":"solid"},"hoveron":"points","name":"1980","legendgroup":"1980","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[5173,5204,5234,5265,5295,5326,5357,5387,5418,5448],"y":[2,16,19,-50,29,-54,79,-179,-6,383],"text":["date: 1984-03-01<br />revision:    2<br />election_factor: 1984","date: 1984-04-01<br />revision:   16<br />election_factor: 1984","date: 1984-05-01<br />revision:   19<br />election_factor: 1984","date: 1984-06-01<br />revision:  -50<br />election_factor: 1984","date: 1984-07-01<br />revision:   29<br />election_factor: 1984","date: 1984-08-01<br />revision:  -54<br />election_factor: 1984","date: 1984-09-01<br />revision:   79<br />election_factor: 1984","date: 1984-10-01<br />revision: -179<br />election_factor: 1984","date: 1984-11-01<br />revision:   -6<br />election_factor: 1984","date: 1984-12-01<br />revision:  383<br />election_factor: 1984"],"type":"scatter","mode":"lines","line":{"width":2.2677165354330708,"color":"rgba(29,53,87,1)","dash":"solid"},"hoveron":"points","name":"1984","legendgroup":"1984","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[6634,6665,6695,6726,6756,6787,6818,6848,6879,6909],"y":[2,-144,-109,15,-47,-13,-6,4,-7,27],"text":["date: 1988-03-01<br />revision:    2<br />election_factor: 1988","date: 1988-04-01<br />revision: -144<br />election_factor: 1988","date: 1988-05-01<br />revision: -109<br />election_factor: 1988","date: 1988-06-01<br />revision:   15<br />election_factor: 1988","date: 1988-07-01<br />revision:  -47<br />election_factor: 1988","date: 1988-08-01<br />revision:  -13<br />election_factor: 1988","date: 1988-09-01<br />revision:   -6<br />election_factor: 1988","date: 1988-10-01<br />revision:    4<br />election_factor: 1988","date: 1988-11-01<br />revision:   -7<br />election_factor: 1988","date: 1988-12-01<br />revision:   27<br />election_factor: 1988"],"type":"scatter","mode":"lines","line":{"width":2.2677165354330708,"color":"rgba(244,162,97,1)","dash":"solid"},"hoveron":"points","name":"1988","legendgroup":"1988","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[8095,8126,8156,8187,8217,8248,8279,8309,8340,8370],"y":[2,41,-102,-52,-42,92,48,25,78,71],"text":["date: 1992-03-01<br />revision:    2<br />election_factor: 1992","date: 1992-04-01<br />revision:   41<br />election_factor: 1992","date: 1992-05-01<br />revision: -102<br />election_factor: 1992","date: 1992-06-01<br />revision:  -52<br />election_factor: 1992","date: 1992-07-01<br />revision:  -42<br />election_factor: 1992","date: 1992-08-01<br />revision:   92<br />election_factor: 1992","date: 1992-09-01<br />revision:   48<br />election_factor: 1992","date: 1992-10-01<br />revision:   25<br />election_factor: 1992","date: 1992-11-01<br />revision:   78<br />election_factor: 1992","date: 1992-12-01<br />revision:   71<br />election_factor: 1992"],"type":"scatter","mode":"lines","line":{"width":2.2677165354330708,"color":"rgba(42,157,143,1)","dash":"solid"},"hoveron":"points","name":"1992","legendgroup":"1992","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[9556,9587,9617,9648,9678,9709,9740,9770,9801,9831],"y":[2,35,37,-24,17,39,84,-27,14,-27],"text":["date: 1996-03-01<br />revision:    2<br />election_factor: 1996","date: 1996-04-01<br />revision:   35<br />election_factor: 1996","date: 1996-05-01<br />revision:   37<br />election_factor: 1996","date: 1996-06-01<br />revision:  -24<br />election_factor: 1996","date: 1996-07-01<br />revision:   17<br />election_factor: 1996","date: 1996-08-01<br />revision:   39<br />election_factor: 1996","date: 1996-09-01<br />revision:   84<br />election_factor: 1996","date: 1996-10-01<br />revision:  -27<br />election_factor: 1996","date: 1996-11-01<br />revision:   14<br />election_factor: 1996","date: 1996-12-01<br />revision:  -27<br />election_factor: 1996"],"type":"scatter","mode":"lines","line":{"width":2.2677165354330708,"color":"rgba(168,218,220,1)","dash":"solid"},"hoveron":"points","name":"1996","legendgroup":"1996","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[11017,11048,11078,11109,11139,11170,11201,11231,11262,11292],"y":[2,-28,60,37,87,17,13,63,5,111],"text":["date: 2000-03-01<br />revision:    2<br />election_factor: 2000","date: 2000-04-01<br />revision:  -28<br />election_factor: 2000","date: 2000-05-01<br />revision:   60<br />election_factor: 2000","date: 2000-06-01<br />revision:   37<br />election_factor: 2000","date: 2000-07-01<br />revision:   87<br />election_factor: 2000","date: 2000-08-01<br />revision:   17<br />election_factor: 2000","date: 2000-09-01<br />revision:   13<br />election_factor: 2000","date: 2000-10-01<br />revision:   63<br />election_factor: 2000","date: 2000-11-01<br />revision:    5<br />election_factor: 2000","date: 2000-12-01<br />revision:  111<br />election_factor: 2000"],"type":"scatter","mode":"lines","line":{"width":2.2677165354330708,"color":"rgba(233,196,106,1)","dash":"solid"},"hoveron":"points","name":"2000","legendgroup":"2000","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[12478,12509,12539,12570,12600,12631,12662,12692,12723,12753],"y":[2,60,-45,108,48,-59,-53,-13,128,42],"text":["date: 2004-03-01<br />revision:    2<br />election_factor: 2004","date: 2004-04-01<br />revision:   60<br />election_factor: 2004","date: 2004-05-01<br />revision:  -45<br />election_factor: 2004","date: 2004-06-01<br />revision:  108<br />election_factor: 2004","date: 2004-07-01<br />revision:   48<br />election_factor: 2004","date: 2004-08-01<br />revision:  -59<br />election_factor: 2004","date: 2004-09-01<br />revision:  -53<br />election_factor: 2004","date: 2004-10-01<br />revision:  -13<br />election_factor: 2004","date: 2004-11-01<br />revision:  128<br />election_factor: 2004","date: 2004-12-01<br />revision:   42<br />election_factor: 2004"],"type":"scatter","mode":"lines","line":{"width":2.2677165354330708,"color":"rgba(38,70,83,1)","dash":"solid"},"hoveron":"points","name":"2004","legendgroup":"2004","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[13939,13970,14000,14031,14061,14092,14123,14153,14184,14214],"y":[2,51,-7,-5,34,31,-63,1,97,-66],"text":["date: 2008-03-01<br />revision:    2<br />election_factor: 2008","date: 2008-04-01<br />revision:   51<br />election_factor: 2008","date: 2008-05-01<br />revision:   -7<br />election_factor: 2008","date: 2008-06-01<br />revision:   -5<br />election_factor: 2008","date: 2008-07-01<br />revision:   34<br />election_factor: 2008","date: 2008-08-01<br />revision:   31<br />election_factor: 2008","date: 2008-09-01<br />revision:  -63<br />election_factor: 2008","date: 2008-10-01<br />revision:    1<br />election_factor: 2008","date: 2008-11-01<br />revision:   97<br />election_factor: 2008","date: 2008-12-01<br />revision:  -66<br />election_factor: 2008"],"type":"scatter","mode":"lines","line":{"width":2.2677165354330708,"color":"rgba(155,93,229,1)","dash":"solid"},"hoveron":"points","name":"2008","legendgroup":"2008","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[15400,15431,15461,15492,15522,15553,15584,15614,15645,15675],"y":[2,32,43,-22,-27,-1,2,10,104,107],"text":["date: 2012-03-01<br />revision:    2<br />election_factor: 2012","date: 2012-04-01<br />revision:   32<br />election_factor: 2012","date: 2012-05-01<br />revision:   43<br />election_factor: 2012","date: 2012-06-01<br />revision:  -22<br />election_factor: 2012","date: 2012-07-01<br />revision:  -27<br />election_factor: 2012","date: 2012-08-01<br />revision:   -1<br />election_factor: 2012","date: 2012-09-01<br />revision:    2<br />election_factor: 2012","date: 2012-10-01<br />revision:   10<br />election_factor: 2012","date: 2012-11-01<br />revision:  104<br />election_factor: 2012","date: 2012-12-01<br />revision:  107<br />election_factor: 2012"],"type":"scatter","mode":"lines","line":{"width":2.2677165354330708,"color":"rgba(241,91,181,1)","dash":"solid"},"hoveron":"points","name":"2012","legendgroup":"2012","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[16861,16892,16922,16953,16983,17014,17045,17075,17106,17136],"y":[2,-56,-29,-7,-36,-20,22,8,-20,3],"text":["date: 2016-03-01<br />revision:    2<br />election_factor: 2016","date: 2016-04-01<br />revision:  -56<br />election_factor: 2016","date: 2016-05-01<br />revision:  -29<br />election_factor: 2016","date: 2016-06-01<br />revision:   -7<br />election_factor: 2016","date: 2016-07-01<br />revision:  -36<br />election_factor: 2016","date: 2016-08-01<br />revision:  -20<br />election_factor: 2016","date: 2016-09-01<br />revision:   22<br />election_factor: 2016","date: 2016-10-01<br />revision:    8<br />election_factor: 2016","date: 2016-11-01<br />revision:  -20<br />election_factor: 2016","date: 2016-12-01<br />revision:    3<br />election_factor: 2016"],"type":"scatter","mode":"lines","line":{"width":2.2677165354330708,"color":"rgba(0,187,249,1)","dash":"solid"},"hoveron":"points","name":"2016","legendgroup":"2016","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18322,18353,18383,18414,18444,18475,18506,18536,18567,18597],"y":[2,8,36,-43,-47,-13,-46,2,89,57],"text":["date: 2020-03-01<br />revision:    2<br />election_factor: 2020","date: 2020-04-01<br />revision:    8<br />election_factor: 2020","date: 2020-05-01<br />revision:   36<br />election_factor: 2020","date: 2020-06-01<br />revision:  -43<br />election_factor: 2020","date: 2020-07-01<br />revision:  -47<br />election_factor: 2020","date: 2020-08-01<br />revision:  -13<br />election_factor: 2020","date: 2020-09-01<br />revision:  -46<br />election_factor: 2020","date: 2020-10-01<br />revision:    2<br />election_factor: 2020","date: 2020-11-01<br />revision:   89<br />election_factor: 2020","date: 2020-12-01<br />revision:   57<br />election_factor: 2020"],"type":"scatter","mode":"lines","line":{"width":2.2677165354330708,"color":"rgba(0,245,212,1)","dash":"solid"},"hoveron":"points","name":"2020","legendgroup":"2020","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19783,19814,19844,19875,19905,19936,19967,19997,20028,20058],"y":[2,-45,-63,-19,-36,-58,-104,49,-22,-74],"text":["date: 2024-03-01<br />revision:    2<br />election_factor: 2024","date: 2024-04-01<br />revision:  -45<br />election_factor: 2024","date: 2024-05-01<br />revision:  -63<br />election_factor: 2024","date: 2024-06-01<br />revision:  -19<br />election_factor: 2024","date: 2024-07-01<br />revision:  -36<br />election_factor: 2024","date: 2024-08-01<br />revision:  -58<br />election_factor: 2024","date: 2024-09-01<br />revision: -104<br />election_factor: 2024","date: 2024-10-01<br />revision:   49<br />election_factor: 2024","date: 2024-11-01<br />revision:  -22<br />election_factor: 2024","date: 2024-12-01<br />revision:  -74<br />election_factor: 2024"],"type":"scatter","mode":"lines","line":{"width":2.2677165354330708,"color":"rgba(255,133,0,1)","dash":"solid"},"hoveron":"points","name":"2024","legendgroup":"2024","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2501.3000000000002,21084.700000000001],"y":[0,0],"text":"yintercept: 0","type":"scatter","mode":"lines","line":{"width":1.1338582677165354,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":47.614777916147794,"r":9.2984640929846432,"b":47.422166874221681,"l":62.299709422997111},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969286},"title":{"text":"Direction of CES Revisions (Signed Values)","font":{"color":"rgba(0,0,0,1)","family":"","size":22.316313823163149},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2501.3000000000002,21084.700000000001],"tickmode":"array","ticktext":["1980","1990","2000","2010","2020"],"tickvals":[3652,7305,10957,14610,18262],"categoryorder":"array","categoryarray":["1980","1990","2000","2010","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.6492320464923216,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":14.87754254877543},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969286}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-724.75,435.75],"tickmode":"array","ticktext":["-500","-250","0","250"],"tickvals":[-500,-249.99999999999994,0,250],"categoryorder":"array","categoryarray":["-500","-250","0","250"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.6492320464923216,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":14.87754254877543},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Revision (Final - Original)","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969286}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":13.283520132835205},"title":{"text":"Election Year","font":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2bf82af85455":{"x":{},"y":{},"type":"scatter"},"2bf86d73202d":{"x":{},"y":{},"colour":{}},"2bf814af3c47":{"yintercept":{}}},"cur_data":"2bf82af85455","visdat":{"2bf82af85455":["function (y) ","x"],"2bf86d73202d":["function (y) ","x"],"2bf814af3c47":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="fraction-of-revisions-100k" class="level2">
<h2 class="anchored" data-anchor-id="fraction-of-revisions-100k">Fraction of Revisions &gt; 100k</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Flag months with revision &gt;100k</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>ces_full <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">big_rev_100k =</span> <span class="fu">abs</span>(revision) <span class="sc">&gt;=</span> <span class="dv">100</span>  <span class="co"># 100 = 100,000 jobs</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Sare of months with rev &gt; 100k</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>big_rev_overall <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months   =</span> <span class="fu">n</span>(),</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_big_rev  =</span> <span class="fu">sum</span>(big_rev_100k, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">frac_big   =</span> n_big_rev <span class="sc">/</span> n_months</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>big_rev_overall_table <span class="ot">&lt;-</span> big_rev_overall <span class="sc">|&gt;</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total months</span><span class="st">`</span> <span class="ot">=</span> n_months,</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Months with |revision| ≥ 100k</span><span class="st">`</span> <span class="ot">=</span> n_big_rev,</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Share of months (%)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(frac_big <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total months</span><span class="st">`</span>,</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Months with |revision| ≥ 100k</span><span class="st">`</span>,</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Share of months (%)</span><span class="st">`</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>  big_rev_overall_table,</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Overall Frequency of CES Payroll Revisions ≥ 100,000 Jobs"</span></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Overall Frequency of CES Payroll Revisions ≥ 100,000 Jobs</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Total months</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Months with |revision| ≥ 100k</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Share of months (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">558</td>
<td style="text-align: right;">69</td>
<td style="text-align: right;">12.37</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="how-rare-are-100k-revisions" class="level2">
<h2 class="anchored" data-anchor-id="how-rare-are-100k-revisions">How rare are &gt; 100k revisions?</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>big_rev_by_decade <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(decade) <span class="sc">|&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months  =</span> <span class="fu">n</span>(),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_big_rev =</span> <span class="fu">sum</span>(big_rev_100k, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">frac_big  =</span> n_big_rev <span class="sc">/</span> n_months,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>big_rev_by_decade_table <span class="ot">&lt;-</span> big_rev_by_decade <span class="sc">|&gt;</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(decade) <span class="sc">|&gt;</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total months</span><span class="st">`</span> <span class="ot">=</span> n_months,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Months with |revision| ≥ 100k</span><span class="st">`</span> <span class="ot">=</span> n_big_rev,</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Share of months (%)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(frac_big <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">Decade =</span> decade,</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total months</span><span class="st">`</span>,</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Months with |revision| ≥ 100k</span><span class="st">`</span>,</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Share of months (%)</span><span class="st">`</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>  big_rev_by_decade_table,</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"How Rare Are CES Payroll Revisions ≥ 100,000 Jobs?"</span></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>How Rare Are CES Payroll Revisions ≥ 100,000 Jobs?</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Decade</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Total months</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Months with |revision| ≥ 100k</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Share of months (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1970</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">25.00</td>
</tr>
<tr class="even">
<td style="text-align: right;">1980</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">23.33</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1990</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">11.67</td>
</tr>
<tr class="even">
<td style="text-align: right;">2000</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">6.67</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2010</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3.33</td>
</tr>
<tr class="even">
<td style="text-align: right;">2020</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">18.18</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>p_big_decade <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(big_rev_by_decade,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(decade), <span class="at">y =</span> frac_big)) <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#0081A7"</span>) <span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title    =</span> <span class="st">"How Often Do CES Revisions Exceed ±100,000 Jobs?"</span>,</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Share of months with |revision| ≥ 100,000 jobs by decade"</span>,</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x        =</span> <span class="st">"Decade"</span>,</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">y        =</span> <span class="st">"Months with big revisions (%)"</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>p_big_decade</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="fraction-of-downward-revisions-over-time-trend-slope" class="level2">
<h2 class="anchored" data-anchor-id="fraction-of-downward-revisions-over-time-trend-slope">Fraction of “Downward” Revisions Over Time (Trend Slope)</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Downward revisions</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>ces_full <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">is_down =</span> revision <span class="sc">&lt;</span> <span class="dv">0</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>down_frac_decade <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(decade) <span class="sc">|&gt;</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months  =</span> <span class="fu">n</span>(),</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_down    =</span> <span class="fu">sum</span>(is_down, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">frac_down =</span> n_down <span class="sc">/</span> n_months,</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="co"># HTML table (no tibbles shown)</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>down_frac_decade <span class="sc">|&gt;</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Share of downward revisions (%)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(frac_down <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">Decade =</span> decade,</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total months</span><span class="st">`</span> <span class="ot">=</span> n_months,</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Months with downward revisions</span><span class="st">`</span> <span class="ot">=</span> n_down,</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Share of downward revisions (%)</span><span class="st">`</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span></span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Share of Months with Downward CES Payroll Revisions, by Decade"</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Share of Months with Downward CES Payroll Revisions, by Decade</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Decade</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Total months</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Months with downward revisions</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Share of downward revisions (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1970</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">58.33</td>
</tr>
<tr class="even">
<td style="text-align: right;">1980</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">33.33</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1990</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">20.83</td>
</tr>
<tr class="even">
<td style="text-align: right;">2000</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">29.17</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2010</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">28.33</td>
</tr>
<tr class="even">
<td style="text-align: right;">2020</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">39.39</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="trend-slope-over-time-logistic-regression" class="level2">
<h2 class="anchored" data-anchor-id="trend-slope-over-time-logistic-regression">Trend slope over time (logistic regression)</h2>
<p>Pr(downward) = β0 + β1 * year</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>trend_down <span class="ot">&lt;-</span> <span class="fu">glm</span>(</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  is_down <span class="sc">~</span> year,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> ces_full,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> <span class="fu">binomial</span>()</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>trend_down_table <span class="ot">&lt;-</span> <span class="fu">tidy</span>(trend_down) <span class="sc">|&gt;</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">recode</span>(term,</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>                  <span class="st">`</span><span class="at">(Intercept)</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"Intercept"</span>,</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">year =</span> <span class="st">"Year (trend)"</span>),</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">Estimate =</span> <span class="fu">round</span>(estimate, <span class="dv">4</span>),</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(std.error, <span class="dv">4</span>),</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">z value</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(statistic, <span class="dv">3</span>),</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">p-value</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">signif</span>(p.value, <span class="dv">3</span>)</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">Term =</span> term,</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>    Estimate,</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span>,</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">z value</span><span class="st">`</span>,</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">p-value</span><span class="st">`</span></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>  trend_down_table,</span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Logistic Regression: Trend in Probability of Downward CES Revisions"</span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Logistic Regression: Trend in Probability of Downward CES Revisions</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Std. Error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">z value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p-value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Intercept</td>
<td style="text-align: right;">-12.9500</td>
<td style="text-align: right;">14.5558</td>
<td style="text-align: right;">-0.890</td>
<td style="text-align: right;">0.374</td>
</tr>
<tr class="even">
<td style="text-align: left;">Year (trend)</td>
<td style="text-align: right;">0.0062</td>
<td style="text-align: right;">0.0073</td>
<td style="text-align: right;">0.851</td>
<td style="text-align: right;">0.395</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#annual averages </span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>down_yearly <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frac_down =</span> <span class="fu">mean</span>(is_down, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co">#plot</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>p_down_trend <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(down_yearly, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> frac_down)) <span class="sc">+</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#E63946"</span>, <span class="at">linewidth =</span> <span class="fl">1.1</span>) <span class="sc">+</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>, <span class="at">color =</span> <span class="st">"#1D3557"</span>) <span class="sc">+</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Fraction of Downward CES Revisions Over Time"</span>,</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Red = actual yearly share; Blue = linear trend"</span>,</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Percent of months with downward revisions"</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_down_trend)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-92d2d629ac64989f42ae" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-92d2d629ac64989f42ae">{"x":{"data":[{"x":[1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],"y":[0.875,0.40000000000000002,0.10000000000000001,0.29999999999999999,0.40000000000000002,0.40000000000000002,0.20000000000000001,0.69999999999999996,0.59999999999999998,0.59999999999999998,0.29999999999999999,0.29999999999999999,0.20000000000000001,0.29999999999999999,0.40000000000000002,0.10000000000000001,0.20000000000000001,0.29999999999999999,0.20000000000000001,0.20000000000000001,0.29999999999999999,0.10000000000000001,0.29999999999999999,0,0.69999999999999996,0.40000000000000002,0.20000000000000001,0.20000000000000001,0.40000000000000002,0.40000000000000002,0.80000000000000004,0.29999999999999999,0.10000000000000001,0.29999999999999999,0.20000000000000001,0.29999999999999999,0.10000000000000001,0.59999999999999998,0.59999999999999998,0.59999999999999998,0.29999999999999999,0.40000000000000002,0.59999999999999998,0.10000000000000001,0.5,0.80000000000000004,0.5],"text":["year: 1979<br />frac_down: 0.875","year: 1980<br />frac_down: 0.400","year: 1981<br />frac_down: 0.100","year: 1982<br />frac_down: 0.300","year: 1983<br />frac_down: 0.400","year: 1984<br />frac_down: 0.400","year: 1985<br />frac_down: 0.200","year: 1986<br />frac_down: 0.700","year: 1987<br />frac_down: 0.600","year: 1988<br />frac_down: 0.600","year: 1989<br />frac_down: 0.300","year: 1990<br />frac_down: 0.300","year: 1991<br />frac_down: 0.200","year: 1992<br />frac_down: 0.300","year: 1993<br />frac_down: 0.400","year: 1994<br />frac_down: 0.100","year: 1995<br />frac_down: 0.200","year: 1996<br />frac_down: 0.300","year: 1997<br />frac_down: 0.200","year: 1998<br />frac_down: 0.200","year: 1999<br />frac_down: 0.300","year: 2000<br />frac_down: 0.100","year: 2001<br />frac_down: 0.300","year: 2002<br />frac_down: 0.000","year: 2003<br />frac_down: 0.700","year: 2004<br />frac_down: 0.400","year: 2005<br />frac_down: 0.200","year: 2006<br />frac_down: 0.200","year: 2007<br />frac_down: 0.400","year: 2008<br />frac_down: 0.400","year: 2009<br />frac_down: 0.800","year: 2010<br />frac_down: 0.300","year: 2011<br />frac_down: 0.100","year: 2012<br />frac_down: 0.300","year: 2013<br />frac_down: 0.200","year: 2014<br />frac_down: 0.300","year: 2015<br />frac_down: 0.100","year: 2016<br />frac_down: 0.600","year: 2017<br />frac_down: 0.600","year: 2018<br />frac_down: 0.600","year: 2019<br />frac_down: 0.300","year: 2020<br />frac_down: 0.400","year: 2021<br />frac_down: 0.600","year: 2022<br />frac_down: 0.100","year: 2023<br />frac_down: 0.500","year: 2024<br />frac_down: 0.800","year: 2025<br />frac_down: 0.500"],"type":"scatter","mode":"lines","line":{"width":4.1574803149606305,"color":"rgba(230,57,70,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1979,1979.5822784810127,1980.1645569620252,1980.746835443038,1981.3291139240507,1981.9113924050632,1982.493670886076,1983.0759493670887,1983.6582278481012,1984.2405063291139,1984.8227848101267,1985.4050632911392,1985.9873417721519,1986.5696202531647,1987.1518987341772,1987.7341772151899,1988.3164556962026,1988.8987341772151,1989.4810126582279,1990.0632911392406,1990.6455696202531,1991.2278481012659,1991.8101265822784,1992.3924050632911,1992.9746835443038,1993.5569620253164,1994.1392405063291,1994.7215189873418,1995.3037974683543,1995.8860759493671,1996.4683544303798,1997.0506329113923,1997.632911392405,1998.2151898734178,1998.7974683544303,1999.379746835443,1999.9620253164558,2000.5443037974683,2001.126582278481,2001.7088607594937,2002.2911392405063,2002.873417721519,2003.4556962025317,2004.0379746835442,2004.620253164557,2005.2025316455697,2005.7848101265822,2006.367088607595,2006.9493670886077,2007.5316455696202,2008.1139240506329,2008.6962025316457,2009.2784810126582,2009.8607594936709,2010.4430379746836,2011.0253164556962,2011.6075949367089,2012.1898734177216,2012.7721518987341,2013.3544303797469,2013.9367088607596,2014.5189873417721,2015.1012658227849,2015.6835443037974,2016.2658227848101,2016.8481012658228,2017.4303797468353,2018.0126582278481,2018.5949367088608,2019.1772151898733,2019.7594936708861,2020.3417721518988,2020.9240506329113,2021.506329113924,2022.0886075949368,2022.6708860759493,2023.253164556962,2023.8354430379748,2024.4177215189873,2025],"y":[0.3354388297872295,0.33619798680311996,0.33695714381900999,0.33771630083490001,0.33847545785079047,0.3392346148666805,0.33999377188257096,0.34075292889846143,0.34151208591435145,0.34227124293024147,0.34303039994613194,0.34378955696202196,0.34454871397791242,0.34530787099380245,0.34606702800969247,0.34682618502558293,0.3475853420414734,0.34834449905736342,0.34910365607325389,0.34986281308914391,0.35062197010503393,0.3513811271209244,0.35214028413681442,0.35289944115270488,0.35365859816859491,0.35441775518448493,0.35517691220037539,0.35593606921626586,0.35669522623215588,0.35745438324804635,0.35821354026393637,0.35897269727982639,0.35973185429571686,0.36049101131160732,0.36125016832749735,0.36200932534338737,0.36276848235927783,0.36352763937516785,0.36428679639105832,0.36504595340694834,0.36580511042283881,0.36656426743872883,0.3673234244546193,0.36808258147050932,0.36884173848639978,0.36960089550228981,0.37036005251817983,0.37111920953407029,0.37187836654996076,0.37263752356585078,0.3733966805817408,0.37415583759763127,0.37491499461352129,0.37567415162941176,0.37643330864530222,0.37719246566119224,0.37795162267708227,0.37871077969297273,0.37946993670886275,0.38022909372475322,0.38098825074064324,0.38174740775653326,0.38250656477242373,0.38326572178831375,0.38402487880420422,0.38478403582009468,0.3855431928359847,0.38630234985187473,0.38706150686776519,0.38782066388365521,0.38857982089954568,0.3893389779154357,0.39009813493132572,0.39085729194721619,0.39161644896310666,0.39237560597899668,0.39313476299488714,0.39389392001077717,0.39465307702666719,0.39541223404255765],"text":["year: 1979.000<br />frac_down: 0.3354388","year: 1979.582<br />frac_down: 0.3361980","year: 1980.165<br />frac_down: 0.3369571","year: 1980.747<br />frac_down: 0.3377163","year: 1981.329<br />frac_down: 0.3384755","year: 1981.911<br />frac_down: 0.3392346","year: 1982.494<br />frac_down: 0.3399938","year: 1983.076<br />frac_down: 0.3407529","year: 1983.658<br />frac_down: 0.3415121","year: 1984.241<br />frac_down: 0.3422712","year: 1984.823<br />frac_down: 0.3430304","year: 1985.405<br />frac_down: 0.3437896","year: 1985.987<br />frac_down: 0.3445487","year: 1986.570<br />frac_down: 0.3453079","year: 1987.152<br />frac_down: 0.3460670","year: 1987.734<br />frac_down: 0.3468262","year: 1988.316<br />frac_down: 0.3475853","year: 1988.899<br />frac_down: 0.3483445","year: 1989.481<br />frac_down: 0.3491037","year: 1990.063<br />frac_down: 0.3498628","year: 1990.646<br />frac_down: 0.3506220","year: 1991.228<br />frac_down: 0.3513811","year: 1991.810<br />frac_down: 0.3521403","year: 1992.392<br />frac_down: 0.3528994","year: 1992.975<br />frac_down: 0.3536586","year: 1993.557<br />frac_down: 0.3544178","year: 1994.139<br />frac_down: 0.3551769","year: 1994.722<br />frac_down: 0.3559361","year: 1995.304<br />frac_down: 0.3566952","year: 1995.886<br />frac_down: 0.3574544","year: 1996.468<br />frac_down: 0.3582135","year: 1997.051<br />frac_down: 0.3589727","year: 1997.633<br />frac_down: 0.3597319","year: 1998.215<br />frac_down: 0.3604910","year: 1998.797<br />frac_down: 0.3612502","year: 1999.380<br />frac_down: 0.3620093","year: 1999.962<br />frac_down: 0.3627685","year: 2000.544<br />frac_down: 0.3635276","year: 2001.127<br />frac_down: 0.3642868","year: 2001.709<br />frac_down: 0.3650460","year: 2002.291<br />frac_down: 0.3658051","year: 2002.873<br />frac_down: 0.3665643","year: 2003.456<br />frac_down: 0.3673234","year: 2004.038<br />frac_down: 0.3680826","year: 2004.620<br />frac_down: 0.3688417","year: 2005.203<br />frac_down: 0.3696009","year: 2005.785<br />frac_down: 0.3703601","year: 2006.367<br />frac_down: 0.3711192","year: 2006.949<br />frac_down: 0.3718784","year: 2007.532<br />frac_down: 0.3726375","year: 2008.114<br />frac_down: 0.3733967","year: 2008.696<br />frac_down: 0.3741558","year: 2009.278<br />frac_down: 0.3749150","year: 2009.861<br />frac_down: 0.3756742","year: 2010.443<br />frac_down: 0.3764333","year: 2011.025<br />frac_down: 0.3771925","year: 2011.608<br />frac_down: 0.3779516","year: 2012.190<br />frac_down: 0.3787108","year: 2012.772<br />frac_down: 0.3794699","year: 2013.354<br />frac_down: 0.3802291","year: 2013.937<br />frac_down: 0.3809883","year: 2014.519<br />frac_down: 0.3817474","year: 2015.101<br />frac_down: 0.3825066","year: 2015.684<br />frac_down: 0.3832657","year: 2016.266<br />frac_down: 0.3840249","year: 2016.848<br />frac_down: 0.3847840","year: 2017.430<br />frac_down: 0.3855432","year: 2018.013<br />frac_down: 0.3863023","year: 2018.595<br />frac_down: 0.3870615","year: 2019.177<br />frac_down: 0.3878207","year: 2019.759<br />frac_down: 0.3885798","year: 2020.342<br />frac_down: 0.3893390","year: 2020.924<br />frac_down: 0.3900981","year: 2021.506<br />frac_down: 0.3908573","year: 2022.089<br />frac_down: 0.3916164","year: 2022.671<br />frac_down: 0.3923756","year: 2023.253<br />frac_down: 0.3931348","year: 2023.835<br />frac_down: 0.3938939","year: 2024.418<br />frac_down: 0.3946531","year: 2025.000<br />frac_down: 0.3954122"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.7795275590551185,"color":"rgba(29,53,87,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1979,1979.5822784810127,1980.1645569620252,1980.746835443038,1981.3291139240507,1981.9113924050632,1982.493670886076,1983.0759493670887,1983.6582278481012,1984.2405063291139,1984.8227848101267,1985.4050632911392,1985.9873417721519,1986.5696202531647,1987.1518987341772,1987.7341772151899,1988.3164556962026,1988.8987341772151,1989.4810126582279,1990.0632911392406,1990.6455696202531,1991.2278481012659,1991.8101265822784,1992.3924050632911,1992.9746835443038,1993.5569620253164,1994.1392405063291,1994.7215189873418,1995.3037974683543,1995.8860759493671,1996.4683544303798,1997.0506329113923,1997.632911392405,1998.2151898734178,1998.7974683544303,1999.379746835443,1999.9620253164558,2000.5443037974683,2001.126582278481,2001.7088607594937,2002.2911392405063,2002.873417721519,2003.4556962025317,2004.0379746835442,2004.620253164557,2005.2025316455697,2005.7848101265822,2006.367088607595,2006.9493670886077,2007.5316455696202,2008.1139240506329,2008.6962025316457,2009.2784810126582,2009.8607594936709,2010.4430379746836,2011.0253164556962,2011.6075949367089,2012.1898734177216,2012.7721518987341,2013.3544303797469,2013.9367088607596,2014.5189873417721,2015.1012658227849,2015.6835443037974,2016.2658227848101,2016.8481012658228,2017.4303797468353,2018.0126582278481,2018.5949367088608,2019.1772151898733,2019.7594936708861,2020.3417721518988,2020.9240506329113,2021.506329113924,2022.0886075949368,2022.6708860759493,2023.253164556962,2023.8354430379748,2024.4177215189873,2025,2025,2025,2024.4177215189873,2023.8354430379748,2023.253164556962,2022.6708860759493,2022.0886075949368,2021.506329113924,2020.9240506329113,2020.3417721518988,2019.7594936708861,2019.1772151898733,2018.5949367088608,2018.0126582278481,2017.4303797468353,2016.8481012658228,2016.2658227848101,2015.6835443037974,2015.1012658227849,2014.5189873417721,2013.9367088607596,2013.3544303797469,2012.7721518987341,2012.1898734177216,2011.6075949367089,2011.0253164556962,2010.4430379746836,2009.8607594936709,2009.2784810126582,2008.6962025316457,2008.1139240506329,2007.5316455696202,2006.9493670886077,2006.367088607595,2005.7848101265822,2005.2025316455697,2004.620253164557,2004.0379746835442,2003.4556962025317,2002.873417721519,2002.2911392405063,2001.7088607594937,2001.126582278481,2000.5443037974683,1999.9620253164558,1999.379746835443,1998.7974683544303,1998.2151898734178,1997.632911392405,1997.0506329113923,1996.4683544303798,1995.8860759493671,1995.3037974683543,1994.7215189873418,1994.1392405063291,1993.5569620253164,1992.9746835443038,1992.3924050632911,1991.8101265822784,1991.2278481012659,1990.6455696202531,1990.0632911392406,1989.4810126582279,1988.8987341772151,1988.3164556962026,1987.7341772151899,1987.1518987341772,1986.5696202531647,1985.9873417721519,1985.4050632911392,1984.8227848101267,1984.2405063291139,1983.6582278481012,1983.0759493670887,1982.493670886076,1981.9113924050632,1981.3291139240507,1980.746835443038,1980.1645569620252,1979.5822784810127,1979,1979],"y":[0.21216195043096561,0.21522893031155893,0.21827989447028484,0.22131389691908215,0.2243299235462709,0.22732688677863322,0.23030361986392733,0.2332588707659336,0.23619129567041897,0.23909945210884326,0.2419817917178958,0.24483665266753557,0.24766225180881052,0.2504566766162033,0.25321787702838083,0.25594365732677532,0.25863166823437372,0.26127939946793965,0.2638841730360193,0.26644313764244976,0.26895326462973318,0.27141134597659622,0.273813994945935,0.27615765005791953,0.27843858313044667,0.28065291217561078,0.28279661995318039,0.28486557894543679,0.28685558341545986,0.28876238902694151,0.29058176022480076,0.292309525195588,0.29394163774884347,0.29547424490387753,0.29690375836679223,0.29822692749393404,0.2994409108291628,0.30054334294932256,0.30153239322684466,0.30240681327383645,0.30316597028972703,0.3038098642745154,0.30433912802877433,0.30475500994039473,0.30505934063694701,0.30525448554158535,0.30534328611045086,0.30532899298719784,0.30521519446572343,0.30500574352671628,0.30470468636063724,0.30431619478093658,0.30384450434269367,0.30329385938221831,0.30266846563642968,0.30197245062304567,0.30120983158229864,0.30038449050209515,0.29950015556453646,0.29856038824945441,0.29756857529395009,0.29652792471930078,0.29544146518300207,0.2943120479812173,0.29314235110539882,0.29193488483878532,0.29069199845838789,0.28941588768277515,0.28810860257328119,0.28677205565542147,0.28540803007814985,0.28401818767150566,0.2826040767988004,0.28116713992857506,0.27970872087506193,0.27823007167447966,0.2767323590790719,0.27521667066205463,0.27368402053510876,0.27213535468629768,0.27213535468629768,0.51868911339881763,0.51562213351822561,0.51257116935949976,0.50953716691070239,0.50652114028351369,0.50352417705115138,0.50054744396585726,0.49759219306385105,0.49465976815936574,0.49175161172094151,0.48886927211188896,0.48601441116224919,0.4831888120209743,0.48039438721358152,0.47763318680140404,0.47490740650300961,0.47221939559541021,0.46957166436184539,0.46696689079376574,0.4644079261873364,0.46189779920005203,0.45943971785318904,0.45703706888385032,0.4546934137718659,0.45241248069933881,0.45019815165417476,0.4480544438766052,0.44598548488434892,0.44399548041432596,0.44208867480284436,0.44026930360498528,0.43854153863419809,0.43690942608094274,0.43537681892590879,0.43394730546299426,0.43262413633585256,0.43141015300062391,0.43030772088046426,0.42931867060294227,0.42844425055595059,0.42768509354006023,0.42704119955527198,0.42651193580101315,0.42609605388939287,0.4257917231928407,0.42559657828820247,0.42550777771933712,0.42552207084259025,0.42563586936406478,0.42584532030307198,0.42614637746915118,0.42653486904885191,0.42700655948709493,0.42755720444757039,0.42818259819335908,0.42887861320674314,0.42964123224749023,0.43046657332769384,0.43135090826525258,0.43229067558033468,0.43328248853583806,0.43432313911048848,0.43540959864678719,0.43653901584857308,0.43770871272439055,0.4389161789910041,0.44015906537140159,0.44143517614701433,0.44274246125650835,0.44407900817436807,0.44544303375163968,0.44683287615828393,0.44824698703098925,0.44968392390121459,0.45114234295472777,0.45262099215531004,0.45411870475071786,0.45563439316773513,0.457167043294681,0.45871570914349336,0.21216195043096561],"text":["year: 1979.000<br />frac_down: 0.3354388","year: 1979.582<br />frac_down: 0.3361980","year: 1980.165<br />frac_down: 0.3369571","year: 1980.747<br />frac_down: 0.3377163","year: 1981.329<br />frac_down: 0.3384755","year: 1981.911<br />frac_down: 0.3392346","year: 1982.494<br />frac_down: 0.3399938","year: 1983.076<br />frac_down: 0.3407529","year: 1983.658<br />frac_down: 0.3415121","year: 1984.241<br />frac_down: 0.3422712","year: 1984.823<br />frac_down: 0.3430304","year: 1985.405<br />frac_down: 0.3437896","year: 1985.987<br />frac_down: 0.3445487","year: 1986.570<br />frac_down: 0.3453079","year: 1987.152<br />frac_down: 0.3460670","year: 1987.734<br />frac_down: 0.3468262","year: 1988.316<br />frac_down: 0.3475853","year: 1988.899<br />frac_down: 0.3483445","year: 1989.481<br />frac_down: 0.3491037","year: 1990.063<br />frac_down: 0.3498628","year: 1990.646<br />frac_down: 0.3506220","year: 1991.228<br />frac_down: 0.3513811","year: 1991.810<br />frac_down: 0.3521403","year: 1992.392<br />frac_down: 0.3528994","year: 1992.975<br />frac_down: 0.3536586","year: 1993.557<br />frac_down: 0.3544178","year: 1994.139<br />frac_down: 0.3551769","year: 1994.722<br />frac_down: 0.3559361","year: 1995.304<br />frac_down: 0.3566952","year: 1995.886<br />frac_down: 0.3574544","year: 1996.468<br />frac_down: 0.3582135","year: 1997.051<br />frac_down: 0.3589727","year: 1997.633<br />frac_down: 0.3597319","year: 1998.215<br />frac_down: 0.3604910","year: 1998.797<br />frac_down: 0.3612502","year: 1999.380<br />frac_down: 0.3620093","year: 1999.962<br />frac_down: 0.3627685","year: 2000.544<br />frac_down: 0.3635276","year: 2001.127<br />frac_down: 0.3642868","year: 2001.709<br />frac_down: 0.3650460","year: 2002.291<br />frac_down: 0.3658051","year: 2002.873<br />frac_down: 0.3665643","year: 2003.456<br />frac_down: 0.3673234","year: 2004.038<br />frac_down: 0.3680826","year: 2004.620<br />frac_down: 0.3688417","year: 2005.203<br />frac_down: 0.3696009","year: 2005.785<br />frac_down: 0.3703601","year: 2006.367<br />frac_down: 0.3711192","year: 2006.949<br />frac_down: 0.3718784","year: 2007.532<br />frac_down: 0.3726375","year: 2008.114<br />frac_down: 0.3733967","year: 2008.696<br />frac_down: 0.3741558","year: 2009.278<br />frac_down: 0.3749150","year: 2009.861<br />frac_down: 0.3756742","year: 2010.443<br />frac_down: 0.3764333","year: 2011.025<br />frac_down: 0.3771925","year: 2011.608<br />frac_down: 0.3779516","year: 2012.190<br />frac_down: 0.3787108","year: 2012.772<br />frac_down: 0.3794699","year: 2013.354<br />frac_down: 0.3802291","year: 2013.937<br />frac_down: 0.3809883","year: 2014.519<br />frac_down: 0.3817474","year: 2015.101<br />frac_down: 0.3825066","year: 2015.684<br />frac_down: 0.3832657","year: 2016.266<br />frac_down: 0.3840249","year: 2016.848<br />frac_down: 0.3847840","year: 2017.430<br />frac_down: 0.3855432","year: 2018.013<br />frac_down: 0.3863023","year: 2018.595<br />frac_down: 0.3870615","year: 2019.177<br />frac_down: 0.3878207","year: 2019.759<br />frac_down: 0.3885798","year: 2020.342<br />frac_down: 0.3893390","year: 2020.924<br />frac_down: 0.3900981","year: 2021.506<br />frac_down: 0.3908573","year: 2022.089<br />frac_down: 0.3916164","year: 2022.671<br />frac_down: 0.3923756","year: 2023.253<br />frac_down: 0.3931348","year: 2023.835<br />frac_down: 0.3938939","year: 2024.418<br />frac_down: 0.3946531","year: 2025.000<br />frac_down: 0.3954122","year: 2025.000<br />frac_down: 0.3954122","year: 2025.000<br />frac_down: 0.3954122","year: 2024.418<br />frac_down: 0.3946531","year: 2023.835<br />frac_down: 0.3938939","year: 2023.253<br />frac_down: 0.3931348","year: 2022.671<br />frac_down: 0.3923756","year: 2022.089<br />frac_down: 0.3916164","year: 2021.506<br />frac_down: 0.3908573","year: 2020.924<br />frac_down: 0.3900981","year: 2020.342<br />frac_down: 0.3893390","year: 2019.759<br />frac_down: 0.3885798","year: 2019.177<br />frac_down: 0.3878207","year: 2018.595<br />frac_down: 0.3870615","year: 2018.013<br />frac_down: 0.3863023","year: 2017.430<br />frac_down: 0.3855432","year: 2016.848<br />frac_down: 0.3847840","year: 2016.266<br />frac_down: 0.3840249","year: 2015.684<br />frac_down: 0.3832657","year: 2015.101<br />frac_down: 0.3825066","year: 2014.519<br />frac_down: 0.3817474","year: 2013.937<br />frac_down: 0.3809883","year: 2013.354<br />frac_down: 0.3802291","year: 2012.772<br />frac_down: 0.3794699","year: 2012.190<br />frac_down: 0.3787108","year: 2011.608<br />frac_down: 0.3779516","year: 2011.025<br />frac_down: 0.3771925","year: 2010.443<br />frac_down: 0.3764333","year: 2009.861<br />frac_down: 0.3756742","year: 2009.278<br />frac_down: 0.3749150","year: 2008.696<br />frac_down: 0.3741558","year: 2008.114<br />frac_down: 0.3733967","year: 2007.532<br />frac_down: 0.3726375","year: 2006.949<br />frac_down: 0.3718784","year: 2006.367<br />frac_down: 0.3711192","year: 2005.785<br />frac_down: 0.3703601","year: 2005.203<br />frac_down: 0.3696009","year: 2004.620<br />frac_down: 0.3688417","year: 2004.038<br />frac_down: 0.3680826","year: 2003.456<br />frac_down: 0.3673234","year: 2002.873<br />frac_down: 0.3665643","year: 2002.291<br />frac_down: 0.3658051","year: 2001.709<br />frac_down: 0.3650460","year: 2001.127<br />frac_down: 0.3642868","year: 2000.544<br />frac_down: 0.3635276","year: 1999.962<br />frac_down: 0.3627685","year: 1999.380<br />frac_down: 0.3620093","year: 1998.797<br />frac_down: 0.3612502","year: 1998.215<br />frac_down: 0.3604910","year: 1997.633<br />frac_down: 0.3597319","year: 1997.051<br />frac_down: 0.3589727","year: 1996.468<br />frac_down: 0.3582135","year: 1995.886<br />frac_down: 0.3574544","year: 1995.304<br />frac_down: 0.3566952","year: 1994.722<br />frac_down: 0.3559361","year: 1994.139<br />frac_down: 0.3551769","year: 1993.557<br />frac_down: 0.3544178","year: 1992.975<br />frac_down: 0.3536586","year: 1992.392<br />frac_down: 0.3528994","year: 1991.810<br />frac_down: 0.3521403","year: 1991.228<br />frac_down: 0.3513811","year: 1990.646<br />frac_down: 0.3506220","year: 1990.063<br />frac_down: 0.3498628","year: 1989.481<br />frac_down: 0.3491037","year: 1988.899<br />frac_down: 0.3483445","year: 1988.316<br />frac_down: 0.3475853","year: 1987.734<br />frac_down: 0.3468262","year: 1987.152<br />frac_down: 0.3460670","year: 1986.570<br />frac_down: 0.3453079","year: 1985.987<br />frac_down: 0.3445487","year: 1985.405<br />frac_down: 0.3437896","year: 1984.823<br />frac_down: 0.3430304","year: 1984.241<br />frac_down: 0.3422712","year: 1983.658<br />frac_down: 0.3415121","year: 1983.076<br />frac_down: 0.3407529","year: 1982.494<br />frac_down: 0.3399938","year: 1981.911<br />frac_down: 0.3392346","year: 1981.329<br />frac_down: 0.3384755","year: 1980.747<br />frac_down: 0.3377163","year: 1980.165<br />frac_down: 0.3369571","year: 1979.582<br />frac_down: 0.3361980","year: 1979.000<br />frac_down: 0.3354388","year: 1979.000<br />frac_down: 0.3354388"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(29,53,87,0.4)","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":47.614777916147794,"r":9.2984640929846432,"b":47.422166874221681,"l":54.860938148609392},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969286},"title":{"text":"Fraction of Downward CES Revisions Over Time","font":{"color":"rgba(0,0,0,1)","family":"","size":22.316313823163149},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1976.7,2027.3],"tickmode":"array","ticktext":["1980","1990","2000","2010","2020"],"tickvals":[1980,1990,2000,2010,2020],"categoryorder":"array","categoryarray":["1980","1990","2000","2010","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.6492320464923216,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":14.87754254877543},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969286}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.043750000000000004,0.91874999999999996],"tickmode":"array","ticktext":["0%","25%","50%","75%"],"tickvals":[0,0.25,0.49999999999999994,0.75],"categoryorder":"array","categoryarray":["0%","25%","50%","75%"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.6492320464923216,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":14.87754254877543},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Percent of months with downward revisions","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969286}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.87754254877543}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2bf86ecd5c75":{"x":{},"y":{},"type":"scatter"},"2bf811115cb6":{"x":{},"y":{}}},"cur_data":"2bf86ecd5c75","visdat":{"2bf86ecd5c75":["function (y) ","x"],"2bf811115cb6":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="longest-run-of-downward-revisions" class="level2">
<h2 class="anchored" data-anchor-id="longest-run-of-downward-revisions">Longest Run of Downward Revisions</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>ces_signed <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date) <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">down =</span> revision <span class="sc">&lt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(down))          <span class="co"># remove months with missing revision</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fu">rle</span>(ces_signed<span class="sc">$</span>down)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>down_streak_lengths <span class="ot">&lt;-</span> r<span class="sc">$</span>lengths[r<span class="sc">$</span>values <span class="sc">==</span> <span class="cn">TRUE</span>]</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>max_down_streak <span class="ot">&lt;-</span> <span class="fu">max</span>(down_streak_lengths)</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>max_down_streak</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># index where each streak starts</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>ends   <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(r<span class="sc">$</span>lengths)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>starts <span class="ot">&lt;-</span> ends <span class="sc">-</span> r<span class="sc">$</span>lengths <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># keep only TRUE (down) streaks</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>down_starts <span class="ot">&lt;-</span> starts[r<span class="sc">$</span>values <span class="sc">==</span> <span class="cn">TRUE</span>]</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>down_ends   <span class="ot">&lt;-</span> ends[r<span class="sc">$</span>values <span class="sc">==</span> <span class="cn">TRUE</span>]</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co"># pick the longest streak index</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="fu">which.max</span>(down_streak_lengths)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>longest_start_row <span class="ot">&lt;-</span> down_starts[i]</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>longest_end_row   <span class="ot">&lt;-</span> down_ends[i]</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>longest_down_run <span class="ot">&lt;-</span> ces_signed <span class="sc">|&gt;</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(longest_start_row<span class="sc">:</span>longest_end_row)</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"The longest consecutive run of downward CES payroll revisions lasted"</span>,</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>  max_down_streak,</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"months."</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The longest consecutive run of downward CES payroll revisions lasted 7 months.</code></pre>
</div>
</div>
</section>
<section id="top-5-downward-runs" class="level2">
<h2 class="anchored" data-anchor-id="top-5-downward-runs">Top 5 downward runs</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ===============================</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Longest runs of downward CES revisions</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ===============================</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Flag months with downward revisions</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>ces_down <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date) <span class="sc">|&gt;</span>                     <span class="co"># ensure chronological order</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">is_down =</span> revision <span class="sc">&lt;</span> <span class="dv">0</span>              <span class="co"># TRUE if revision is negative</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Identify consecutive runs using run-length encoding</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="co">#    Each run (up or down) gets a unique run_id</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>run_id_vec <span class="ot">&lt;-</span> <span class="fu">with</span>(</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rle</span>(ces_down<span class="sc">$</span>is_down),</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rep</span>(<span class="fu">seq_along</span>(values), lengths)</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>ces_down <span class="ot">&lt;-</span> ces_down <span class="sc">|&gt;</span></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">run_id =</span> run_id_vec)</span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Summarize only the downward runs</span></span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>down_runs <span class="ot">&lt;-</span> ces_down <span class="sc">|&gt;</span></span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(is_down) <span class="sc">|&gt;</span>                   <span class="co"># keep only negative revisions</span></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(run_id) <span class="sc">|&gt;</span></span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">start_date =</span> <span class="fu">min</span>(date),</span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">end_date   =</span> <span class="fu">max</span>(date),</span>
<span id="cb25-39"><a href="#cb25-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months   =</span> <span class="fu">n</span>(),                   <span class="co"># length of the streak</span></span>
<span id="cb25-40"><a href="#cb25-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups    =</span> <span class="st">"drop"</span></span>
<span id="cb25-41"><a href="#cb25-41" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-42"><a href="#cb25-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-43"><a href="#cb25-43" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb25-44"><a href="#cb25-44" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Select the top 5 longest downward streaks</span></span>
<span id="cb25-45"><a href="#cb25-45" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb25-46"><a href="#cb25-46" aria-hidden="true" tabindex="-1"></a>down_runs_top5 <span class="ot">&lt;-</span> down_runs <span class="sc">|&gt;</span></span>
<span id="cb25-47"><a href="#cb25-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n_months)) <span class="sc">|&gt;</span></span>
<span id="cb25-48"><a href="#cb25-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb25-49"><a href="#cb25-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-50"><a href="#cb25-50" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb25-51"><a href="#cb25-51" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Format table for presentation (HTML)</span></span>
<span id="cb25-52"><a href="#cb25-52" aria-hidden="true" tabindex="-1"></a><span class="co">#    No new calculations here — presentation only</span></span>
<span id="cb25-53"><a href="#cb25-53" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb25-54"><a href="#cb25-54" aria-hidden="true" tabindex="-1"></a>top5_down_runs_table <span class="ot">&lt;-</span> down_runs_top5 <span class="sc">|&gt;</span></span>
<span id="cb25-55"><a href="#cb25-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb25-56"><a href="#cb25-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Start date</span><span class="st">`</span>        <span class="ot">=</span> start_date,</span>
<span id="cb25-57"><a href="#cb25-57" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">End date</span><span class="st">`</span>          <span class="ot">=</span> end_date,</span>
<span id="cb25-58"><a href="#cb25-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Length (months)</span><span class="st">`</span>   <span class="ot">=</span> n_months</span>
<span id="cb25-59"><a href="#cb25-59" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb25-60"><a href="#cb25-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb25-61"><a href="#cb25-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-62"><a href="#cb25-62" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb25-63"><a href="#cb25-63" aria-hidden="true" tabindex="-1"></a>  top5_down_runs_table,</span>
<span id="cb25-64"><a href="#cb25-64" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb25-65"><a href="#cb25-65" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Top 5 Longest Consecutive Runs of Downward CES Payroll Revisions"</span></span>
<span id="cb25-66"><a href="#cb25-66" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Top 5 Longest Consecutive Runs of Downward CES Payroll Revisions</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Start date</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">End date</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Length (months)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1979-04-01</td>
<td style="text-align: left;">1979-10-01</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: left;">1986-05-01</td>
<td style="text-align: left;">1986-11-01</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2003-04-01</td>
<td style="text-align: left;">2003-09-01</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">2017-05-01</td>
<td style="text-align: left;">2017-10-01</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2024-04-01</td>
<td style="text-align: left;">2024-09-01</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 6. Plot: highlight the longest downward streaks</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ces_full, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> revision)) <span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># shaded bands for the longest downward streaks</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rect</span>(</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> down_runs_top5,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">xmin =</span> start_date,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">xmax =</span> end_date,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">ymin =</span> <span class="sc">-</span><span class="cn">Inf</span>,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">ymax =</span> <span class="cn">Inf</span>,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="fu">factor</span>(run_id)),</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">inherit.aes =</span> <span class="cn">FALSE</span>,</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.18</span>,</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NA</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># full revision time series</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"grey30"</span>, <span class="at">linewidth =</span> <span class="fl">0.35</span>) <span class="sc">+</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">linewidth =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>, <span class="at">name =</span> <span class="st">"Downward run</span><span class="sc">\n</span><span class="st">(ID)"</span>) <span class="sc">+</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">title    =</span> <span class="st">"Longest Streaks of Consecutive Downward CES Revisions"</span>,</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Colored bands show the five longest stretches where revisions were negative every month"</span>,</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">x        =</span> <span class="st">"Year"</span>,</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">y        =</span> <span class="st">"Revision (Final – Original, thousands)"</span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title    =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text     =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>)</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="job-growth-and-revision" class="level2">
<h2 class="anchored" data-anchor-id="job-growth-and-revision">Job growth and Revision</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#payrole change</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>ces_gain <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date) <span class="sc">|&gt;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">payroll_change =</span> level <span class="sc">-</span> <span class="fu">lag</span>(level)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(payroll_change))</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="co">#large gains</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>gain_threshold <span class="ot">&lt;-</span> <span class="fu">quantile</span>(ces_gain<span class="sc">$</span>payroll_change, <span class="fl">0.9</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="co">#groups</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>ces_gain <span class="ot">&lt;-</span> ces_gain <span class="sc">|&gt;</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">large_gain =</span> payroll_change <span class="sc">&gt;=</span> gain_threshold,</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">abs_rev    =</span> abs_revision</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) Compute month-to-month payroll change and bin into quintiles</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>ces_growth_bins <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date) <span class="sc">|&gt;</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">payroll_change =</span> level <span class="sc">-</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(level)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(payroll_change), <span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">|&gt;</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth_bin =</span> dplyr<span class="sc">::</span><span class="fu">ntile</span>(payroll_change, <span class="dv">5</span>)  <span class="co"># 1 = weakest, 5 = strongest growth</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 2) For each growth bin: mean signed revision and fraction downward</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>growth_bin_stats <span class="ot">&lt;-</span> ces_growth_bins <span class="sc">|&gt;</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(growth_bin) <span class="sc">|&gt;</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_revision   =</span> <span class="fu">mean</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">frac_downward   =</span> <span class="fu">mean</span>(revision <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months        =</span> <span class="fu">n</span>(),</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth_bin =</span> <span class="fu">factor</span>(</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>      growth_bin,</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Q1: biggest losses"</span>,</span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Q2"</span>,</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Q3"</span>,</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Q4"</span>,</span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Q5: biggest gains"</span></span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">frac_downward_pct =</span> <span class="dv">100</span> <span class="sc">*</span> frac_downward</span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Format table for presentation (no new calculations)</span></span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>growth_bin_table <span class="ot">&lt;-</span> growth_bin_stats <span class="sc">|&gt;</span></span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Growth quintile</span><span class="st">`</span> <span class="ot">=</span> growth_bin,</span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean revision (thousands)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mean_revision, <span class="dv">1</span>),</span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Months with downward revision (%)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(<span class="fu">round</span>(frac_downward_pct, <span class="dv">1</span>), <span class="st">"%"</span>),</span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Number of months</span><span class="st">`</span> <span class="ot">=</span> n_months</span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb29-57"><a href="#cb29-57" aria-hidden="true" tabindex="-1"></a>  growth_bin_table,</span>
<span id="cb29-58"><a href="#cb29-58" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb29-59"><a href="#cb29-59" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"CES Revision Behavior by Payroll Growth Quintile"</span></span>
<span id="cb29-60"><a href="#cb29-60" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>CES Revision Behavior by Payroll Growth Quintile</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Growth quintile</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Mean revision (thousands)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Months with downward revision (%)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Number of months</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Q1: biggest losses</td>
<td style="text-align: right;">15.5</td>
<td style="text-align: left;">34.4%</td>
<td style="text-align: right;">93</td>
</tr>
<tr class="even">
<td style="text-align: left;">Q2</td>
<td style="text-align: right;">28.5</td>
<td style="text-align: left;">34.4%</td>
<td style="text-align: right;">93</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Q3</td>
<td style="text-align: right;">13.8</td>
<td style="text-align: left;">39.1%</td>
<td style="text-align: right;">92</td>
</tr>
<tr class="even">
<td style="text-align: left;">Q4</td>
<td style="text-align: right;">5.3</td>
<td style="text-align: left;">33.7%</td>
<td style="text-align: right;">92</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Q5: biggest gains</td>
<td style="text-align: right;">7.7</td>
<td style="text-align: left;">39.1%</td>
<td style="text-align: right;">92</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="plots" class="level2">
<h2 class="anchored" data-anchor-id="plots">Plots</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>p_bins <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(growth_bin_stats,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">aes</span>(<span class="at">x =</span> growth_bin, <span class="at">y =</span> mean_revision)) <span class="sc">+</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#1f77b4"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Average CES Revision by Job-Growth Quintile"</span>,</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Quintiles based on month-to-month change in total nonfarm payrolls"</span>,</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Job-growth quintile (Q1 = biggest losses, Q5 = biggest gains)"</span>,</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Mean revision (final - original, thousands)"</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_bins, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-ff016be96018ef2ad7a4" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-ff016be96018ef2ad7a4">{"x":{"data":[{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0,0,0,0,0],"x":[1,2,3,4,5],"y":[15.46236559139785,28.451612903225808,13.793478260869565,5.2608695652173916,7.7282608695652177],"text":["growth_bin: Q1: biggest losses<br />mean_revision: 15.462366","growth_bin: Q2<br />mean_revision: 28.451613","growth_bin: Q3<br />mean_revision: 13.793478","growth_bin: Q4<br />mean_revision:  5.260870","growth_bin: Q5: biggest gains<br />mean_revision:  7.728261"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(31,119,180,0.8)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.40000000000000002,5.5999999999999996],"y":[0,0],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":47.61477791614778,"r":9.2984640929846396,"b":47.422166874221666,"l":47.422166874221674},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279},"title":{"text":"Average CES Revision by Job-Growth Quintile","font":{"color":"rgba(0,0,0,1)","family":"","size":22.316313823163139},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,5.5999999999999996],"tickmode":"array","ticktext":["Q1: biggest losses","Q2","Q3","Q4","Q5: biggest gains"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["Q1: biggest losses","Q2","Q3","Q4","Q5: biggest gains"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.6492320464923198,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":14.877542548775427},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Job-growth quintile (Q1 = biggest losses, Q5 = biggest gains)","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.4225806451612906,29.874193548387098],"tickmode":"array","ticktext":["0","10","20"],"tickvals":[0,10,20],"categoryorder":"array","categoryarray":["0","10","20"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.6492320464923198,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":14.87754254877543},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Mean revision (final - original, thousands)","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.877542548775427}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2bf8172d5e12":{"x":{},"y":{},"type":"bar"},"2bf879aa41bd":{"yintercept":{}}},"cur_data":"2bf8172d5e12","visdat":{"2bf8172d5e12":["function (y) ","x"],"2bf879aa41bd":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>p_frac <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(growth_bin_stats,</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">aes</span>(<span class="at">x =</span> growth_bin, <span class="at">y =</span> frac_downward_pct)) <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#ff7f0e"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Share of Months with Downward Revisions by Job-Growth Quintile"</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Job-growth quintile"</span>,</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Downward revisions (%)"</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_frac, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-d6716e30ec675b519b2f" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-d6716e30ec675b519b2f">{"x":{"data":[{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0,0,0,0,0],"x":[1,2,3,4,5],"y":[34.408602150537639,34.408602150537639,39.130434782608695,33.695652173913047,39.130434782608695],"text":["growth_bin: Q1: biggest losses<br />frac_downward_pct: 34.40860","growth_bin: Q2<br />frac_downward_pct: 34.40860","growth_bin: Q3<br />frac_downward_pct: 39.13043","growth_bin: Q4<br />frac_downward_pct: 33.69565","growth_bin: Q5: biggest gains<br />frac_downward_pct: 39.13043"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,127,14,0.8)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":47.61477791614778,"r":9.2984640929846396,"b":47.422166874221666,"l":47.422166874221674},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279},"title":{"text":"Share of Months with Downward Revisions by Job-Growth Quintile","font":{"color":"rgba(0,0,0,1)","family":"","size":22.316313823163139},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,5.5999999999999996],"tickmode":"array","ticktext":["Q1: biggest losses","Q2","Q3","Q4","Q5: biggest gains"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["Q1: biggest losses","Q2","Q3","Q4","Q5: biggest gains"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.6492320464923198,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":14.877542548775427},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Job-growth quintile","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.9565217391304348,41.086956521739133],"tickmode":"array","ticktext":["0","10","20","30","40"],"tickvals":[0,10.000000000000002,20,30,40],"categoryorder":"array","categoryarray":["0","10","20","30","40"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.6492320464923198,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":14.87754254877543},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Downward revisions (%)","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.877542548775427}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2bf86c9b3d10":{"x":{},"y":{},"type":"bar"}},"cur_data":"2bf86c9b3d10","visdat":{"2bf86c9b3d10":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="revision-as-a-of-total-payroll-base" class="level2">
<h2 class="anchored" data-anchor-id="revision-as-a-of-total-payroll-base">Revision as a % of Total Payroll Base</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>pct_payroll_by_decade <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_of_payroll =</span> <span class="fu">abs</span>(revision) <span class="sc">/</span> level</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(decade) <span class="sc">|&gt;</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_pct_payroll   =</span> <span class="fu">mean</span>(pct_of_payroll, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_pct_payroll =</span> <span class="fu">median</span>(pct_of_payroll, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_pct_payroll    =</span> <span class="fu">max</span>(pct_of_payroll, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months           =</span> <span class="fu">n</span>(),</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(decade)</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Format table for presentation (no new calculations)</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>pct_payroll_table <span class="ot">&lt;-</span> pct_payroll_by_decade <span class="sc">|&gt;</span></span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Decade</span><span class="st">`</span> <span class="ot">=</span> decade,</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean (% of payroll)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(<span class="fu">round</span>(mean_pct_payroll, <span class="dv">3</span>), <span class="st">"%"</span>),</span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Median (% of payroll)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(<span class="fu">round</span>(median_pct_payroll, <span class="dv">3</span>), <span class="st">"%"</span>),</span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Max (% of payroll)</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(<span class="fu">round</span>(max_pct_payroll, <span class="dv">3</span>), <span class="st">"%"</span>),</span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Number of months</span><span class="st">`</span> <span class="ot">=</span> n_months</span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb32-38"><a href="#cb32-38" aria-hidden="true" tabindex="-1"></a>  pct_payroll_table,</span>
<span id="cb32-39"><a href="#cb32-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb32-40"><a href="#cb32-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"CES Revisions as a Percentage of Payroll, by Decade"</span></span>
<span id="cb32-41"><a href="#cb32-41" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>CES Revisions as a Percentage of Payroll, by Decade</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Decade</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Mean (% of payroll)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Median (% of payroll)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Max (% of payroll)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Number of months</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1970</td>
<td style="text-align: left;">0.068%</td>
<td style="text-align: left;">0.045%</td>
<td style="text-align: left;">0.177%</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="even">
<td style="text-align: right;">1980</td>
<td style="text-align: left;">0.077%</td>
<td style="text-align: left;">0.057%</td>
<td style="text-align: left;">0.399%</td>
<td style="text-align: right;">120</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1990</td>
<td style="text-align: left;">0.043%</td>
<td style="text-align: left;">0.033%</td>
<td style="text-align: left;">0.189%</td>
<td style="text-align: right;">120</td>
</tr>
<tr class="even">
<td style="text-align: right;">2000</td>
<td style="text-align: left;">0.032%</td>
<td style="text-align: left;">0.029%</td>
<td style="text-align: left;">0.188%</td>
<td style="text-align: right;">120</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2010</td>
<td style="text-align: left;">0.023%</td>
<td style="text-align: left;">0.016%</td>
<td style="text-align: left;">0.11%</td>
<td style="text-align: right;">120</td>
</tr>
<tr class="even">
<td style="text-align: right;">2020</td>
<td style="text-align: left;">0.047%</td>
<td style="text-align: left;">0.028%</td>
<td style="text-align: left;">0.461%</td>
<td style="text-align: right;">66</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pct_payroll_by_decade,</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> decade, <span class="at">y =</span> mean_pct_payroll)) <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">1.2</span>, <span class="at">color =</span> <span class="st">"#1D3557"</span>) <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"#E63946"</span>) <span class="sc">+</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"CES Revisions as Percent of Payroll Over Time"</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Decade"</span>,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Mean Absolute Revision (% of Payroll)"</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="statistical-analysis" class="level1">
<h1>Statistical Analysis</h1>
<section id="t-test-are-revisions-larger-after-big-payroll-gains" class="level2">
<h2 class="anchored" data-anchor-id="t-test-are-revisions-larger-after-big-payroll-gains">T-test: Are revisions larger after big payroll gains?</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(infer)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare revision size after large vs normal payroll gains</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Compute month-to-month payroll change and absolute revision size</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>ces_gain <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date) <span class="sc">|&gt;</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">payroll_change =</span> level <span class="sc">-</span> <span class="fu">lag</span>(level),   <span class="co"># monthly payroll change</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">abs_rev        =</span> <span class="fu">abs</span>(revision)          <span class="co"># absolute revision size</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(payroll_change), <span class="sc">!</span><span class="fu">is.na</span>(abs_rev))</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Define "large payroll gain" as the top 10% of monthly changes</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>gain_threshold <span class="ot">&lt;-</span> <span class="fu">quantile</span>(</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>  ces_gain<span class="sc">$</span>payroll_change,</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>  <span class="fl">0.9</span>,</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Classify months</span></span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>ces_gain <span class="ot">&lt;-</span> ces_gain <span class="sc">|&gt;</span></span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">large_gain =</span> <span class="fu">if_else</span>(</span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>      payroll_change <span class="sc">&gt;=</span> gain_threshold,</span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Large gain"</span>,</span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Normal / low"</span></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 4: Two-sample t-test</span></span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a><span class="co"># H0: Mean absolute revision is the same for both groups</span></span>
<span id="cb34-36"><a href="#cb34-36" aria-hidden="true" tabindex="-1"></a><span class="co"># HA: Mean absolute revision differs</span></span>
<span id="cb34-37"><a href="#cb34-37" aria-hidden="true" tabindex="-1"></a>ttest_large_gain <span class="ot">&lt;-</span> ces_gain <span class="sc">|&gt;</span></span>
<span id="cb34-38"><a href="#cb34-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t_test</span>(</span>
<span id="cb34-39"><a href="#cb34-39" aria-hidden="true" tabindex="-1"></a>    abs_rev <span class="sc">~</span> large_gain,</span>
<span id="cb34-40"><a href="#cb34-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"Normal / low"</span>, <span class="st">"Large gain"</span>)</span>
<span id="cb34-41"><a href="#cb34-41" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb34-42"><a href="#cb34-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-43"><a href="#cb34-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-44"><a href="#cb34-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-45"><a href="#cb34-45" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb34-46"><a href="#cb34-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 5: Summary table for presentation</span></span>
<span id="cb34-47"><a href="#cb34-47" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb34-48"><a href="#cb34-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-49"><a href="#cb34-49" aria-hidden="true" tabindex="-1"></a>ttest_large_gain_table <span class="ot">&lt;-</span> ttest_large_gain <span class="sc">|&gt;</span></span>
<span id="cb34-50"><a href="#cb34-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb34-51"><a href="#cb34-51" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">t statistic</span><span class="st">`</span>        <span class="ot">=</span> <span class="fu">round</span>(statistic, <span class="dv">3</span>),</span>
<span id="cb34-52"><a href="#cb34-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Degrees of freedom</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(t_df, <span class="dv">2</span>),</span>
<span id="cb34-53"><a href="#cb34-53" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">p-value</span><span class="st">`</span>            <span class="ot">=</span> <span class="fu">round</span>(p_value, <span class="dv">3</span>),</span>
<span id="cb34-54"><a href="#cb34-54" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Alternative</span><span class="st">`</span>        <span class="ot">=</span> alternative,</span>
<span id="cb34-55"><a href="#cb34-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Estimated difference (Large − Normal)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(estimate, <span class="dv">3</span>),</span>
<span id="cb34-56"><a href="#cb34-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI lower</span><span class="st">`</span>       <span class="ot">=</span> <span class="fu">round</span>(lower_ci, <span class="dv">3</span>),</span>
<span id="cb34-57"><a href="#cb34-57" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI upper</span><span class="st">`</span>       <span class="ot">=</span> <span class="fu">round</span>(upper_ci, <span class="dv">3</span>)</span>
<span id="cb34-58"><a href="#cb34-58" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb34-59"><a href="#cb34-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb34-60"><a href="#cb34-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-61"><a href="#cb34-61" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(</span>
<span id="cb34-62"><a href="#cb34-62" aria-hidden="true" tabindex="-1"></a>  ttest_large_gain_table,</span>
<span id="cb34-63"><a href="#cb34-63" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb34-64"><a href="#cb34-64" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Two-sample t-test: Are absolute CES revisions larger after big payroll gains?"</span></span>
<span id="cb34-65"><a href="#cb34-65" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Two-sample t-test: Are absolute CES revisions larger after big payroll gains?</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">t statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Degrees of freedom</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p-value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Alternative</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Estimated difference (Large − Normal)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">95% CI lower</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">95% CI upper</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">-1.114</td>
<td style="text-align: right;">48.6</td>
<td style="text-align: right;">0.271</td>
<td style="text-align: left;">two.sided</td>
<td style="text-align: right;">-17.924</td>
<td style="text-align: right;">-50.272</td>
<td style="text-align: right;">14.423</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="bootstrap-analysis" class="level2">
<h2 class="anchored" data-anchor-id="bootstrap-analysis">Bootstrap Analysis</h2>
<p>0.95 CL</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(infer)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co"># PERMUTATION </span><span class="al">TEST</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co"># H0: Absolute revisions are independent of large payroll gains</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>perm_large_gain <span class="ot">&lt;-</span> ces_gain <span class="sc">|&gt;</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(abs_rev <span class="sc">~</span> large_gain) <span class="sc">|&gt;</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hypothesize</span>(<span class="at">null =</span> <span class="st">"independence"</span>) <span class="sc">|&gt;</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">2000</span>, <span class="at">type =</span> <span class="st">"permute"</span>) <span class="sc">|&gt;</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat  =</span> <span class="st">"diff in means"</span>,</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"Large gain"</span>, <span class="st">"Normal / low"</span>)</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a><span class="co"># observed statistic (same scale as permutation)</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>obs_diff <span class="ot">&lt;-</span> ces_gain <span class="sc">|&gt;</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(abs_rev <span class="sc">~</span> large_gain) <span class="sc">|&gt;</span></span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(</span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat  =</span> <span class="st">"diff in means"</span>,</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"Large gain"</span>, <span class="st">"Normal / low"</span>)</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a><span class="co"># permutation p-value (two-sided)</span></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a>perm_pval <span class="ot">&lt;-</span> <span class="fu">get_p_value</span>(</span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>  perm_large_gain,</span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">obs_stat =</span> obs_diff<span class="sc">$</span>stat,</span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">direction =</span> <span class="st">"two-sided"</span></span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a><span class="co"># BOOTSTRAP CONFIDENCE INTERVAL</span></span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Estimates uncertainty around the SAME statistic</span></span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a>boot_large_gain <span class="ot">&lt;-</span> ces_gain <span class="sc">|&gt;</span></span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(abs_rev <span class="sc">~</span> large_gain) <span class="sc">|&gt;</span></span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">2000</span>, <span class="at">type =</span> <span class="st">"bootstrap"</span>) <span class="sc">|&gt;</span></span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(</span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat  =</span> <span class="st">"diff in means"</span>,</span>
<span id="cb35-46"><a href="#cb35-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"Large gain"</span>, <span class="st">"Normal / low"</span>)</span>
<span id="cb35-47"><a href="#cb35-47" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb35-48"><a href="#cb35-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-49"><a href="#cb35-49" aria-hidden="true" tabindex="-1"></a>boot_large_gain_ci <span class="ot">&lt;-</span> boot_large_gain <span class="sc">|&gt;</span></span>
<span id="cb35-50"><a href="#cb35-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_confidence_interval</span>(<span class="at">type =</span> <span class="st">"percentile"</span>)</span>
<span id="cb35-51"><a href="#cb35-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-52"><a href="#cb35-52" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb35-53"><a href="#cb35-53" aria-hidden="true" tabindex="-1"></a><span class="co"># FORMAT RESULTS INTO A TABLE (presentation only)</span></span>
<span id="cb35-54"><a href="#cb35-54" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb35-55"><a href="#cb35-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-56"><a href="#cb35-56" aria-hidden="true" tabindex="-1"></a>boot_large_gain_ci_table <span class="ot">&lt;-</span> boot_large_gain_ci <span class="sc">|&gt;</span></span>
<span id="cb35-57"><a href="#cb35-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb35-58"><a href="#cb35-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI lower</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(lower_ci, <span class="dv">3</span>),</span>
<span id="cb35-59"><a href="#cb35-59" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI upper</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(upper_ci, <span class="dv">3</span>)</span>
<span id="cb35-60"><a href="#cb35-60" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb35-61"><a href="#cb35-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb35-62"><a href="#cb35-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-63"><a href="#cb35-63" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb35-64"><a href="#cb35-64" aria-hidden="true" tabindex="-1"></a>  boot_large_gain_ci_table,</span>
<span id="cb35-65"><a href="#cb35-65" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb35-66"><a href="#cb35-66" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Bootstrap 95% CI for Difference in Mean Absolute Revisions  </span></span>
<span id="cb35-67"><a href="#cb35-67" aria-hidden="true" tabindex="-1"></a><span class="st">             (Large Gain − Normal/Low)"</span></span>
<span id="cb35-68"><a href="#cb35-68" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Bootstrap 95% CI for Difference in Mean Absolute Revisions (Large Gain − Normal/Low)</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">95% CI lower</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">95% CI upper</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">-8.905</td>
<td style="text-align: right;">54.689</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="are-revisions-systematically-more-negative-when-job-growth-is-large" class="level2">
<h2 class="anchored" data-anchor-id="are-revisions-systematically-more-negative-when-job-growth-is-large">Are revisions systematically more negative when job growth is large?</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(infer)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="co"># PURPOSE:</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Use a bootstrap (computational inference) to estimate</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co"># the sampling distribution of the MEDIAN CES revision.</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co"># This avoids normality assumptions and targets the median,</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co"># not the mean.</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Keep only months with observed revisions</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>ces_rev_ok <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision))</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="co"># BOOTSTRAP:</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Repeatedly resample months WITH replacement and</span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a><span class="co"># compute the median revision each time.</span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a><span class="co"># This approximates the sampling distribution of the median.</span></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>boot_median_rev <span class="ot">&lt;-</span> ces_rev_ok <span class="sc">|&gt;</span></span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(<span class="at">response =</span> revision) <span class="sc">|&gt;</span></span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">2000</span>, <span class="at">type =</span> <span class="st">"bootstrap"</span>) <span class="sc">|&gt;</span></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"median"</span>)</span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a><span class="co"># CONFIDENCE INTERVAL:</span></span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Percentile-based 95% bootstrap confidence interval</span></span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a><span class="co"># for the population median revision.</span></span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a>boot_median_ci <span class="ot">&lt;-</span> boot_median_rev <span class="sc">|&gt;</span></span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_confidence_interval</span>(</span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">level =</span> <span class="fl">0.95</span>,</span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">type  =</span> <span class="st">"percentile"</span></span>
<span id="cb36-39"><a href="#cb36-39" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-40"><a href="#cb36-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-41"><a href="#cb36-41" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb36-42"><a href="#cb36-42" aria-hidden="true" tabindex="-1"></a><span class="co"># FORMAT RESULTS AS AN HTML TABLE (no tibble output)</span></span>
<span id="cb36-43"><a href="#cb36-43" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------</span></span>
<span id="cb36-44"><a href="#cb36-44" aria-hidden="true" tabindex="-1"></a>boot_median_ci_table <span class="ot">&lt;-</span> boot_median_ci <span class="sc">|&gt;</span></span>
<span id="cb36-45"><a href="#cb36-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb36-46"><a href="#cb36-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI lower (thousands of jobs)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(lower_ci, <span class="dv">2</span>),</span>
<span id="cb36-47"><a href="#cb36-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI upper (thousands of jobs)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(upper_ci, <span class="dv">2</span>)</span>
<span id="cb36-48"><a href="#cb36-48" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb36-49"><a href="#cb36-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb36-50"><a href="#cb36-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-51"><a href="#cb36-51" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb36-52"><a href="#cb36-52" aria-hidden="true" tabindex="-1"></a>  boot_median_ci_table,</span>
<span id="cb36-53"><a href="#cb36-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb36-54"><a href="#cb36-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Bootstrap 95% Confidence Interval for the Median CES Revision"</span></span>
<span id="cb36-55"><a href="#cb36-55" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Bootstrap 95% Confidence Interval for the Median CES Revision</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">95% CI lower (thousands of jobs)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">95% CI upper (thousands of jobs)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">12</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Observed (sample) median CES revision</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># This is the actual median revision in the data (in thousands of jobs),</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># NOT a model-based or resampled estimate</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>obs_median_rev <span class="ot">&lt;-</span> ces_rev_ok <span class="sc">|&gt;</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_revision =</span> <span class="fu">median</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Format the result for presentation</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a><span class="co"># - Keep units explicit (thousands of jobs)</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="co"># - Use plain data.frame for clean HTML rendering</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>obs_median_rev_table <span class="ot">&lt;-</span> obs_median_rev <span class="sc">|&gt;</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Median CES revision (thousands of jobs)</span><span class="st">`</span> <span class="ot">=</span> median_revision</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Display as HTML table</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>  obs_median_rev_table,</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Observed Median CES Payroll Revision"</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Observed Median CES Payroll Revision</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Median CES revision (thousands of jobs)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(infer)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1. Build president/party lookup ---------------------------------------</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>presidents_party <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">expand_grid</span>(</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">year      =</span> <span class="dv">1979</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">month     =</span> month.name,</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">president =</span> <span class="cn">NA_character_</span>,</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">party     =</span> <span class="cn">NA_character_</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Hard–code which president takes office in which month/year</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">president =</span> <span class="fu">case_when</span>(</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>      month <span class="sc">==</span> <span class="st">"January"</span>  <span class="sc">&amp;</span> year <span class="sc">==</span> <span class="dv">1979</span> <span class="sc">~</span> <span class="st">"Carter"</span>,</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>      month <span class="sc">==</span> <span class="st">"February"</span> <span class="sc">&amp;</span> year <span class="sc">==</span> <span class="dv">1981</span> <span class="sc">~</span> <span class="st">"Reagan"</span>,</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>      month <span class="sc">==</span> <span class="st">"February"</span> <span class="sc">&amp;</span> year <span class="sc">==</span> <span class="dv">1989</span> <span class="sc">~</span> <span class="st">"Bush 41"</span>,</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>      month <span class="sc">==</span> <span class="st">"February"</span> <span class="sc">&amp;</span> year <span class="sc">==</span> <span class="dv">1993</span> <span class="sc">~</span> <span class="st">"Clinton"</span>,</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>      month <span class="sc">==</span> <span class="st">"February"</span> <span class="sc">&amp;</span> year <span class="sc">==</span> <span class="dv">2001</span> <span class="sc">~</span> <span class="st">"Bush 43"</span>,</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>      month <span class="sc">==</span> <span class="st">"February"</span> <span class="sc">&amp;</span> year <span class="sc">==</span> <span class="dv">2009</span> <span class="sc">~</span> <span class="st">"Obama"</span>,</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>      month <span class="sc">==</span> <span class="st">"February"</span> <span class="sc">&amp;</span> year <span class="sc">==</span> <span class="dv">2017</span> <span class="sc">~</span> <span class="st">"Trump I"</span>,</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>      month <span class="sc">==</span> <span class="st">"February"</span> <span class="sc">&amp;</span> year <span class="sc">==</span> <span class="dv">2021</span> <span class="sc">~</span> <span class="st">"Biden"</span>,</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>      month <span class="sc">==</span> <span class="st">"February"</span> <span class="sc">&amp;</span> year <span class="sc">==</span> <span class="dv">2025</span> <span class="sc">~</span> <span class="st">"Trump II"</span>,</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="cn">NA_character_</span></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">fill</span>(president) <span class="sc">|&gt;</span></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Map presidents to party label: D = Democrat, R = Republican</span></span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">party =</span> <span class="fu">if_else</span>(</span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>      president <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Carter"</span>, <span class="st">"Clinton"</span>, <span class="st">"Obama"</span>, <span class="st">"Biden"</span>),</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>      <span class="st">"D"</span>, <span class="st">"R"</span></span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a><span class="do">## 2. Join to CES and create downward indicator --------------------------</span></span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>ces_party <span class="ot">&lt;-</span> ces_full <span class="sc">|&gt;</span></span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">year  =</span> <span class="fu">year</span>(date),</span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">month =</span> <span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> <span class="fu">as.character</span>()</span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(presidents_party, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"month"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(party), <span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">|&gt;</span></span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">downward      =</span> revision <span class="sc">&lt;</span> <span class="dv">0</span>,                       <span class="co"># TRUE if revision is negative</span></span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">downward_chr  =</span> <span class="fu">if_else</span>(downward, <span class="st">"down"</span>, <span class="st">"up"</span>),    <span class="co"># character version for infer()</span></span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">party         =</span> <span class="fu">factor</span>(party, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"R"</span>, <span class="st">"D"</span>)) <span class="co"># order: Republicans, then Democrats</span></span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a><span class="do">## 3. Descriptive: fraction of downward revisions by party ---------------</span></span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Here we just describe how often revisions are negative under each party</span></span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a>party_downward_summary <span class="ot">&lt;-</span> ces_party <span class="sc">|&gt;</span></span>
<span id="cb38-54"><a href="#cb38-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(party) <span class="sc">|&gt;</span></span>
<span id="cb38-55"><a href="#cb38-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb38-56"><a href="#cb38-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months  =</span> <span class="fu">n</span>(),                          <span class="co"># total months for that party</span></span>
<span id="cb38-57"><a href="#cb38-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_down    =</span> <span class="fu">sum</span>(downward),                <span class="co"># number of months with downward revision</span></span>
<span id="cb38-58"><a href="#cb38-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">frac_down =</span> n_down <span class="sc">/</span> n_months,            <span class="co"># share of months with downward revision</span></span>
<span id="cb38-59"><a href="#cb38-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups   =</span> <span class="st">"drop"</span></span>
<span id="cb38-60"><a href="#cb38-60" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb38-61"><a href="#cb38-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-62"><a href="#cb38-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Format descriptive results as a clean HTML table</span></span>
<span id="cb38-63"><a href="#cb38-63" aria-hidden="true" tabindex="-1"></a>party_downward_table <span class="ot">&lt;-</span> party_downward_summary <span class="sc">|&gt;</span></span>
<span id="cb38-64"><a href="#cb38-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-65"><a href="#cb38-65" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Share downward (%)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(<span class="dv">100</span> <span class="sc">*</span> frac_down, <span class="dv">1</span>)</span>
<span id="cb38-66"><a href="#cb38-66" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb38-67"><a href="#cb38-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb38-68"><a href="#cb38-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">Party                           =</span> <span class="fu">as.character</span>(party),</span>
<span id="cb38-69"><a href="#cb38-69" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total months</span><span class="st">`</span>                  <span class="ot">=</span> n_months,</span>
<span id="cb38-70"><a href="#cb38-70" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Months with downward revision</span><span class="st">`</span> <span class="ot">=</span> n_down,</span>
<span id="cb38-71"><a href="#cb38-71" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Share downward (%)</span><span class="st">`</span></span>
<span id="cb38-72"><a href="#cb38-72" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb38-73"><a href="#cb38-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb38-74"><a href="#cb38-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-75"><a href="#cb38-75" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(</span>
<span id="cb38-76"><a href="#cb38-76" aria-hidden="true" tabindex="-1"></a>  party_downward_table,</span>
<span id="cb38-77"><a href="#cb38-77" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb38-78"><a href="#cb38-78" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Share of Months with Downward CES Revisions, by President’s Party"</span></span>
<span id="cb38-79"><a href="#cb38-79" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Share of Months with Downward CES Revisions, by President’s Party</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Party</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Total months</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Months with downward revision</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Share downward (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">R</td>
<td style="text-align: right;">244</td>
<td style="text-align: right;">91</td>
<td style="text-align: right;">37.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">D</td>
<td style="text-align: right;">218</td>
<td style="text-align: right;">76</td>
<td style="text-align: right;">34.9</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 4. Classical prop_test (theory-based χ² test) -------------------------</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Formal test of H0: probability of a downward revision is the same under R and D</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="co"># prop_test() does a 2×2 chi-square test on downward (yes/no) by party (R/D)</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>prop_party <span class="ot">&lt;-</span> ces_party <span class="sc">|&gt;</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prop_test</span>(downward <span class="sc">~</span> party,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"R"</span>, <span class="st">"D"</span>))   <span class="co"># CI is for p(D) − p(R)</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Format prop_test output as a small inferential summary table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>prop_party_table <span class="ot">&lt;-</span> prop_party <span class="sc">|&gt;</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Chi-square statistic</span><span class="st">`</span>          <span class="ot">=</span> <span class="fu">round</span>(statistic, <span class="dv">3</span>),</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Degrees of freedom</span><span class="st">`</span>           <span class="ot">=</span> chisq_df,</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">p-value</span><span class="st">`</span>                      <span class="ot">=</span> <span class="fu">round</span>(p_value, <span class="dv">3</span>),</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Alternative hypothesis</span><span class="st">`</span>       <span class="ot">=</span> alternative,</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI lower (p[D] − p[R])</span><span class="st">`</span>   <span class="ot">=</span> <span class="fu">round</span>(lower_ci, <span class="dv">3</span>),</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI upper (p[D] − p[R])</span><span class="st">`</span>   <span class="ot">=</span> <span class="fu">round</span>(upper_ci, <span class="dv">3</span>)</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>  prop_party_table,</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Theory-based Test: Difference in Probability of Downward Revisions (Democrats − Republicans)"</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Theory-based Test: Difference in Probability of Downward Revisions (Democrats − Republicans)</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Chi-square statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Degrees of freedom</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p-value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Alternative hypothesis</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">95% CI lower (p[D] − p[R])</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">95% CI upper (p[D] − p[R])</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.199</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.655</td>
<td style="text-align: left;">two.sided</td>
<td style="text-align: right;">-0.068</td>
<td style="text-align: right;">0.116</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 5. EXTRA CREDIT: permutation + bootstrap with infer -------------------</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Observed difference in proportions: p_D - p_R</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>obs_party_diff <span class="ot">&lt;-</span> ces_party <span class="sc">|&gt;</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(<span class="at">response =</span> downward_chr,</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">explanatory =</span> party,</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">success =</span> <span class="st">"down"</span>) <span class="sc">|&gt;</span>           <span class="co"># "success" level is the string "down"</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"diff in props"</span>,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"D"</span>, <span class="st">"R"</span>))         <span class="co"># p_D - p_R</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 5a. Permutation test under H0: no party effect on downward probability</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>perm_party <span class="ot">&lt;-</span> ces_party <span class="sc">|&gt;</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(downward_chr <span class="sc">~</span> party, <span class="at">success =</span> <span class="st">"down"</span>) <span class="sc">|&gt;</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hypothesize</span>(<span class="at">null =</span> <span class="st">"independence"</span>) <span class="sc">|&gt;</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">2000</span>, <span class="at">type =</span> <span class="st">"permute"</span>) <span class="sc">|&gt;</span></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"diff in props"</span>,</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"D"</span>, <span class="st">"R"</span>))</span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a><span class="co"># two-sided p-value from permutation distribution</span></span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>perm_pval <span class="ot">&lt;-</span> <span class="fu">get_p_value</span>(</span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a>  perm_party,</span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">obs_stat   =</span> obs_party_diff<span class="sc">$</span>stat,</span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">direction  =</span> <span class="st">"two-sided"</span></span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-31"><a href="#cb41-31" aria-hidden="true" tabindex="-1"></a><span class="co"># 5b. Bootstrap CI for p_D - p_R (computational CI)</span></span>
<span id="cb41-32"><a href="#cb41-32" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb41-33"><a href="#cb41-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-34"><a href="#cb41-34" aria-hidden="true" tabindex="-1"></a>boot_party <span class="ot">&lt;-</span> ces_party <span class="sc">|&gt;</span></span>
<span id="cb41-35"><a href="#cb41-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(downward_chr <span class="sc">~</span> party, <span class="at">success =</span> <span class="st">"down"</span>) <span class="sc">|&gt;</span></span>
<span id="cb41-36"><a href="#cb41-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">2000</span>, <span class="at">type =</span> <span class="st">"bootstrap"</span>) <span class="sc">|&gt;</span></span>
<span id="cb41-37"><a href="#cb41-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"diff in props"</span>,</span>
<span id="cb41-38"><a href="#cb41-38" aria-hidden="true" tabindex="-1"></a>            <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"D"</span>, <span class="st">"R"</span>))</span>
<span id="cb41-39"><a href="#cb41-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-40"><a href="#cb41-40" aria-hidden="true" tabindex="-1"></a>boot_ci <span class="ot">&lt;-</span> boot_party <span class="sc">|&gt;</span></span>
<span id="cb41-41"><a href="#cb41-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_confidence_interval</span>(<span class="at">level =</span> <span class="fl">0.95</span>, <span class="at">type =</span> <span class="st">"percentile"</span>)</span>
<span id="cb41-42"><a href="#cb41-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-43"><a href="#cb41-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-44"><a href="#cb41-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-45"><a href="#cb41-45" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Summarise permutation + bootstrap results in one table -----------</span></span>
<span id="cb41-46"><a href="#cb41-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-47"><a href="#cb41-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-48"><a href="#cb41-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-49"><a href="#cb41-49" aria-hidden="true" tabindex="-1"></a>party_comp_summary <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb41-50"><a href="#cb41-50" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Estimate p(D) − p(R)</span><span class="st">`</span>          <span class="ot">=</span> <span class="fu">round</span>(obs_party_diff<span class="sc">$</span>stat, <span class="dv">3</span>),</span>
<span id="cb41-51"><a href="#cb41-51" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Permutation p-value</span><span class="st">`</span>           <span class="ot">=</span> <span class="fu">round</span>(perm_pval<span class="sc">$</span>p_value, <span class="dv">3</span>),</span>
<span id="cb41-52"><a href="#cb41-52" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Bootstrap 95% CI lower</span><span class="st">`</span>        <span class="ot">=</span> <span class="fu">round</span>(boot_ci<span class="sc">$</span>lower_ci, <span class="dv">3</span>),</span>
<span id="cb41-53"><a href="#cb41-53" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Bootstrap 95% CI upper</span><span class="st">`</span>        <span class="ot">=</span> <span class="fu">round</span>(boot_ci<span class="sc">$</span>upper_ci, <span class="dv">3</span>)</span>
<span id="cb41-54"><a href="#cb41-54" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb41-55"><a href="#cb41-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb41-56"><a href="#cb41-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-57"><a href="#cb41-57" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb41-58"><a href="#cb41-58" aria-hidden="true" tabindex="-1"></a>  party_comp_summary,</span>
<span id="cb41-59"><a href="#cb41-59" aria-hidden="true" tabindex="-1"></a>  <span class="at">format  =</span> <span class="st">"html"</span>,</span>
<span id="cb41-60"><a href="#cb41-60" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Computational Inference for Difference in Downward-Revision Probabilities (Democrats − Republicans)"</span></span>
<span id="cb41-61"><a href="#cb41-61" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Computational Inference for Difference in Downward-Revision Probabilities (Democrats − Republicans)</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Estimate p(D) − p(R)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Permutation p-value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Bootstrap 95% CI lower</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Bootstrap 95% CI upper</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">-0.024</td>
<td style="text-align: right;">0.646</td>
<td style="text-align: right;">-0.115</td>
<td style="text-align: right;">0.063</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="claims" class="level2">
<h2 class="anchored" data-anchor-id="claims">Claims</h2>
<p>Bureau of Labor Statistics employment numbers “were rigged” when the agency revised them “down by almost 900,000 jobs” after the 2024 election</p>
<p>Stefanik (2024): “The Biden administration has been cooking the books — the jobs numbers keep getting revised down.”</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/<madisonbrinson>\.github\.io\/STA9750-2025-FALL\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>